<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0029)http://devblog.techsmith.com/ -->
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US" class="cufon-active cufon-ready"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>DevBlog</title>
<link rel="shortcut icon" href="http://devblog.techsmith.com/wp-content/themes/lightword/favicon.ico">
<link rel="pingback" href="http://devblog.techsmith.com/xmlrpc.php">


<meta name="robots" content="noindex,nofollow">
<link rel="alternate" type="application/rss+xml" title="DevBlog » Feed" href="http://devblog.techsmith.com/feed/">
<link rel="alternate" type="application/rss+xml" title="DevBlog » Comments Feed" href="http://devblog.techsmith.com/comments/feed/">
<link rel="stylesheet" id="lightword_stylesheet-css" href="./DevBlog_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="lightword_stylesheet_wider-css" href="./DevBlog_files/wider.css" type="text/css" media="all">
<link rel="stylesheet" id="admin-bar-css" href="./DevBlog_files/admin-bar.css" type="text/css" media="all">
<link rel="stylesheet" id="gdsr_style_main-css" href="./DevBlog_files/gdsr.css.php" type="text/css" media="all">
<link rel="stylesheet" id="gdsr_style_xtra-css" href="./DevBlog_files/rating.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-syntax-css-css" href="./DevBlog_files/wp-syntax.css" type="text/css" media="all">
<script type="text/javascript" src="./DevBlog_files/swfobject.js"></script>
<script type="text/javascript" src="./DevBlog_files/jquery.js"></script>
<script type="text/javascript" src="./DevBlog_files/gdsr.js"></script>

<script type="text/javascript" charset="utf-8">

	/**
	 * Courtesy of Kimili Flash Embed - Version 2.2
	 * by Michael Bester - http://kimili.com
	 */

	(function(){
		try {
			// Disabling SWFObject's Autohide feature
			if (typeof swfobject.switchOffAutoHideShow === "function") {
				swfobject.switchOffAutoHideShow();
			}
		} catch(e) {}
	})();
</script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://devblog.techsmith.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://devblog.techsmith.com/wp-includes/wlwmanifest.xml"> 
<meta name="framework" content="Alkivia Framework 0.8">
<script type="text/javascript">
//<![CDATA[
var gdsr_cnst_nonce = "8d46b40579";
var gdsr_cnst_ajax = "http://devblog.techsmith.com/wp-content/plugins/gd-star-rating/ajax.php";
var gdsr_cnst_button = 0;
var gdsr_cnst_cache = 0;
// ]]>
</script>
<!--[if IE]><style type="text/css">.ratemulti .starsbar .gdcurrent { -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"; filter: alpha(opacity=70); }</style><![endif]-->
<style type="text/css">
#content-body,x:-moz-any-link{float:left;margin-right:28px;}#content-body, x:-moz-any-link, x:default{float:none;margin-right:25px;} 
</style>

<script src="./DevBlog_files/cufon-yui.js" type="text/javascript"></script><style type="text/css">cufon{text-indent:0!important;}@media screen,projection{cufon{display:inline!important;display:inline-block!important;position:relative!important;vertical-align:middle!important;font-size:1px!important;line-height:1px!important;}cufon cufontext{display:-moz-inline-box!important;display:inline-block!important;width:0!important;height:0!important;overflow:hidden!important;text-indent:-10000in!important;}cufon canvas{position:relative!important;}}@media print{cufon{padding:0!important;}cufon canvas{display:none!important;}}</style>
<script src="./DevBlog_files/vera.font.js" type="text/javascript"></script>
<script type="text/javascript">/*<![CDATA[*/Cufon.replace(['h1','h2','h3#reply-title'], { fontFamily: 'Vera' });/*]]>*/</script>
<!--[if IE 6]><style type="text/css">#header{background-image: none; filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='http://devblog.techsmith.com/wp-content/themes/lightword/images/wider/content_top.png',sizingMethod='scale'); }#footer{background:transparent url(http://devblog.techsmith.com/wp-content/themes/lightword/images/wider/content_bottom.gif) no-repeat;height:8px;}.comm_date{background-image: none; filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='http://devblog.techsmith.com/wp-content/themes/lightword/images/date_comm_box.png',sizingMethod='scale'); }</style><![endif]-->
<style type="text/css" media="print">#wpadminbar { display:none; }</style>
<style type="text/css" media="screen">
	html { margin-top: 28px !important; }
	* html body { margin-top: 28px !important; }
</style>
<style type="text/css">
.avatar {vertical-align:middle}
.credit {font-size: 50%;}
</style>
		<link rel="stylesheet" type="text/css" href="./DevBlog_files/shCore.css"><link rel="stylesheet" type="text/css" href="./DevBlog_files/shThemeDefault.css"><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3">
<style type="text/css"></style></head>

<body class="home blog logged-in admin-bar">
<script type="text/javascript" src="./DevBlog_files/konami.js"></script>
<script type="text/javascript">
	konami = new Konami()
	konami.load("http://nyan.cat/");
</script>
<div id="wrapper">

<div id="top_cufon"><h1 id="logo"><a name="top" title="DevBlog" href="./DevBlog_files/DevBlog.html"><cufon class="cufon cufon-canvas" alt="DevBlog" style="width: 195px; height: 36px;"><canvas width="208" height="38" style="width: 208px; height: 38px; top: -1px; left: -2px;"></canvas><cufontext>DevBlog</cufontext></cufon></a><cufon class="cufon cufon-canvas" alt=" " style="width: 13px; height: 36px;"><canvas width="43" height="38" style="width: 43px; height: 38px; top: -1px; left: -2px;"></canvas><cufontext> </cufontext></cufon><small><cufon class="cufon cufon-canvas" alt="Shared " style="width: 63px; height: 12px;"><canvas width="73" height="13" style="width: 73px; height: 13px; top: 0px; left: -1px;"></canvas><cufontext>Shared </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Tips " style="width: 36px; height: 12px;"><canvas width="46" height="13" style="width: 46px; height: 13px; top: 0px; left: -1px;"></canvas><cufontext>Tips </cufontext></cufon><cufon class="cufon cufon-canvas" alt="&amp; " style="width: 16px; height: 12px;"><canvas width="26" height="13" style="width: 26px; height: 13px; top: 0px; left: -1px;"></canvas><cufontext>&amp; </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Tricks" style="width: 51px; height: 12px;"><canvas width="57" height="13" style="width: 57px; height: 13px; top: 0px; left: -1px;"></canvas><cufontext>Tricks</cufontext></cufon></small></h1></div>

<div id="header">
<a id="rss-feed" title="Syndicate this site using RSS" href="http://devblog.techsmith.com/feed/">Subscribe via RSS</a>

<div id="top_bar">
<div class="center_menu">
<ul id="front_menu" style="z-index: 50;">
    <li><a class="s" title="Home" href="./DevBlog_files/DevBlog.html"><span>Home</span></a></li>
<li id="menu-item-4075" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4075"><a href="http://devblog.techsmith.com/about/"><span>How to use the TSC Development Blog</span></a></li></ul>
</div>
<form method="get" id="searchform" action="./DevBlog_files/DevBlog.html"> <input type="text" value="" name="s" id="s"> <input type="submit" id="go" value="" alt="Search" title="Search"></form>
</div>

</div>
<div id="content"><div id="content-body">

<div class="post-10871 post type-post status-publish format-standard hentry category-debugging category-mac-os category-objective-c" id="post-10871">
<div class="comm_date"><span class="data"><span class="j">26</span>Aug/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/08/26/debugging-a-bus-error-in-snagit-mac-using-a-disassembler-watching-registers/#comments">0</a></span></div>
<h2><a title="Debugging a Bus Error in Snagit Mac (Using a disassembler &amp; watching registers)" href="http://devblog.techsmith.com/2015/08/26/debugging-a-bus-error-in-snagit-mac-using-a-disassembler-watching-registers/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Debugging " style="width: 147px; height: 24px;"><canvas width="168" height="25" style="width: 168px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Debugging </cufontext></cufon><cufon class="cufon cufon-canvas" alt="a " style="width: 23px; height: 24px;"><canvas width="44" height="25" style="width: 44px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>a </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Bus " style="width: 55px; height: 24px;"><canvas width="76" height="25" style="width: 76px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Bus </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Error " style="width: 71px; height: 24px;"><canvas width="92" height="25" style="width: 92px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Error </cufontext></cufon><cufon class="cufon cufon-canvas" alt="in " style="width: 31px; height: 24px;"><canvas width="52" height="25" style="width: 52px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>in </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Snagit " style="width: 90px; height: 24px;"><canvas width="111" height="25" style="width: 111px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Snagit </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Mac " style="width: 59px; height: 24px;"><canvas width="80" height="25" style="width: 80px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Mac </cufontext></cufon><cufon class="cufon cufon-canvas" alt="(Using " style="width: 89px; height: 24px;"><canvas width="110" height="25" style="width: 110px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>(Using </cufontext></cufon><cufon class="cufon cufon-canvas" alt="a " style="width: 23px; height: 24px;"><canvas width="44" height="25" style="width: 44px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>a </cufontext></cufon><cufon class="cufon cufon-canvas" alt="disassembler " style="width: 176px; height: 24px;"><canvas width="197" height="25" style="width: 197px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>disassembler </cufontext></cufon><cufon class="cufon cufon-canvas" alt="&amp; " style="width: 28px; height: 24px;"><canvas width="49" height="25" style="width: 49px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>&amp; </cufontext></cufon><cufon class="cufon cufon-canvas" alt="watching " style="width: 124px; height: 24px;"><canvas width="145" height="25" style="width: 145px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>watching </cufontext></cufon><cufon class="cufon cufon-canvas" alt="registers)" style="width: 124px; height: 24px;"><canvas width="142" height="25" style="width: 142px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>registers)</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/m-ao/" title="Posts by Matthew Ao" rel="author">Matthew Ao</a> </h4>
</div>
<p>So in Snagit Mac, we have had 9 crashes from the CenterCode Beta (150-odd users), in <code>EditorWindowController.m, `-setCurrentDocument`</code><br>
Unfortunately, there just wasn't much information about what was causing the crash, all we know is that a Bus Error occurred, and we also have the stack trace at the time of the crashes.<br>
But this seemed really frequent to me, so I decided to dive in and try to figure out what was going on.</p>
<p>Unfortunately, the crash descriptions our users submitted were very different, and didn't really tell us much:</p>
<blockquote><p>	"Snagit crashed after finishing recording a 44 sec video capture (of a youtube video) and waiting for the editor to appear. Received a dialog that snagit crashed and asked if I wanted to reopen the app and report the error (which I am doing right now).""</p>
<p>	"Decided to test Snagit Beta, opened Snagit Beta, attempted screen capture, selected with area, selected capture: attempted save, app crashed and snagit quit.<br>
	On 1st attempt, this occurred. On 2nd attempt, it happened again, only faster. I'm going to reboot my computer and start over. Thanks . Mary"</p>
<p>	"Attempted to close and reopen editor within Snagit.""</p>
<p>	"I believe I was trying to capture a panoramic"</p>
<p>	"Simply trying to effectively use the webcam capture mode, and it crashes;""</p>
<p>	"Simply opening the editor;""</p></blockquote>
<p>Here is the stack trace during the crash (Thanks HockeyApp!):</p>
<div><div id="highlighter_451161" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">0&nbsp;&nbsp; libobjc.A.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff904ac064 objc_retain + 20</code></div><div class="line number2 index1 alt1"><code class="plain plain">1&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0000000102032c85 -[EditorWindowController setCurrentDocument:] (EditorWindowController.m:518)</code></div><div class="line number3 index2 alt2"><code class="plain plain">2&nbsp;&nbsp; Foundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff8717fe6b _NSSetObjectValueAndNotify + 258</code></div><div class="line number4 index3 alt1"><code class="plain plain">3&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010203287b -[EditorWindowController selectTrayItem:shouldDisplay:] (EditorWindowController.m:468)</code></div><div class="line number5 index4 alt2"><code class="plain plain">4&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0000000102032548 -[EditorWindowController setDocumentAtIndex:] (EditorWindowController.m:398)</code></div><div class="line number6 index5 alt1"><code class="plain plain">5&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0000000102031afd -[EditorWindowController displayEditor] (EditorWindowController.m:223)</code></div><div class="line number7 index6 alt2"><code class="plain plain">6&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010204d2fd -[AppController showEditor:] (AppController.m:1469)</code></div><div class="line number8 index7 alt1"><code class="plain plain">7&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010204abc0 -[AppController application:openFile:] (AppController.m:852)</code></div></div></td></tr></tbody></table></div></div>
<p>I personally was unable to reproduce this even once with the same stack trace, but I did find another way to reproduce the crash w/ this stack trace:</p>
<div><div id="highlighter_618504" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">0&nbsp;&nbsp; libobjc.A.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff8caa2064 objc_retain + 20</code></div><div class="line number2 index1 alt1"><code class="plain plain">1&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010f9f7865 -[EditorWindowController setCurrentDocument:] (EditorWindowController.m:518)</code></div><div class="line number3 index2 alt2"><code class="plain plain">2&nbsp;&nbsp; Foundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff95762f3b _NSSetObjectValueAndNotify + 258</code></div><div class="line number4 index3 alt1"><code class="plain plain">3&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010f9f745b -[EditorWindowController selectTrayItem:shouldDisplay:] (EditorWindowController.m:468)</code></div><div class="line number5 index4 alt2"><code class="plain plain">4&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010fa49138 -[TrayManager selectTrayItem:shouldDisplay:] (TrayManager.m:380)</code></div><div class="line number6 index5 alt1"><code class="plain plain">5&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010fa48a6e -[TrayManager documentAdded:shouldSelect:atIndex:] (TrayManager.m:295)</code></div><div class="line number7 index6 alt2"><code class="plain plain">6&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010f9ff083 -[EditorDocumentController addDocument:shouldSwitch:atIndex:] (EditorDocumentController.m:572)</code></div><div class="line number8 index7 alt1"><code class="plain plain">7&nbsp;&nbsp; AppKit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff8b8fab47 -[NSDocumentController openUntitledDocumentAndDisplay:error:] + 339</code></div><div class="line number9 index8 alt2"><code class="plain plain">8&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010f9f6749 -[EditorWindowController displayEditor] (EditorWindowController.m:229)</code></div><div class="line number10 index9 alt1"><code class="plain plain">9&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010fa0f706 -[AppController applicationShouldHandleReopen:hasVisibleWindows:] (AppController.m:880)</code></div></div></td></tr></tbody></table></div></div>
<p>For any Snagit Mac users that are curious how to reproduce it the way I did-- simply delete all items inside of your Library.  There will be a leftover empty item.  Delete that, and Snagit will close.  Reopen Snagit and you receive this crash.</p>
<p>During debug you will see that the crash is a EXC_BAD_ACCESS.  So normally you would think that we are trying to access an object that has already been released (Thanks ARC!).  But the processor in that case would have sent a Segmentation Fault Signal (sigsegv), which it didn't. </p>
<p>The logs say that the crash was caused by a Bus Error:<br>
<code><br>
Exception Type:  SIGBUS<br>
Exception Codes: BUS_ADRERR at 0x0<br>
Crashed Thread:  0<br>
</code></p>
<p>So the processor is sending an error to the OS telling it that it is trying to access an invalid physical address.</p>
<p>So what's happening here?  How can we debug this?  The only information we have right now is what is in the stack trace.</p>
<p>At the moment of the crash, the top stack frame (Frame 0) is this call to `objc_retain</p>
<div><div id="highlighter_674717" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">0&nbsp;&nbsp; libobjc.A.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff904ac064 objc_retain + 20</code></div></div></td></tr></tbody></table></div></div>
<p>And according to the stack trace, the caller (the previous frame) to objc_retain is <code>-[EditorWindowController setCurrentDocument:]</code>.<br>
But let's look at the code here:</p>
<div><div id="highlighter_247982" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">- (void)setCurrentDocument:(MediaDocument*)document</code></div><div class="line number2 index1 alt1"><code class="plain plain">{</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (![document isEqual:[self currentDocument]])</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if ([_editorViewController isLibraryVisible])</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[super setDocument:document];</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self setDocument:document];</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[document didFinishSettingDocument];</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number15 index14 alt2"><code class="plain plain">}</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="plain plain">- (MediaDocument*)currentDocument</code></div><div class="line number18 index17 alt1"><code class="plain plain">{</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">return [self document];</code></div><div class="line number20 index19 alt1"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Note that in Objective-C, instance variables can have getters and setters automatically generated by denoting a @property variable.<br>
e.g, @property ImageDocument *currentDocument;<br>
And we still have the ability to implement the accessors (getters/setters) ourselves, by writing a method called currentDocument (getter) and setCurrentDocument (setter).  So when you try to set a property, the objc runtime will search for the "set*yourpropertyname*" method to see if you have a custom implementation.  Otherwise it will just directly set the backing instance variable.</p>
<p>Also to those of you unfamiliar w/ Objective-C and how their memory management (ARC) works, whenever you obtain a reference to an object that you only use in a given scope-- that object will be added to the autorelease pool, which periodically drains automatically (more specifically, at the end of a main run loop).  However, if you want to say, set the object as a property on an object, then you will need to `retain` the object, to prevent it from being automatically released before you reference it again.  </p>
<p>But when you look at that code, it doesn't seem like it would need to call `-retain` anywhere.  Well, turns out, the ARC compiler adds some magical instructions into the assembly code.  Let's take a look at the pertinent assembly code produced from Xcode's disassembler.  </p>
<div><div id="highlighter_95201" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dc0 &lt;+0&gt;:&nbsp;&nbsp; pushq&nbsp; %rbp</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dc1 &lt;+1&gt;:&nbsp;&nbsp; movq&nbsp;&nbsp; %rsp, %rbp</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dc4 &lt;+4&gt;:&nbsp;&nbsp; subq&nbsp;&nbsp; $0x40, %rsp</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dc8 &lt;+8&gt;:&nbsp;&nbsp; leaq&nbsp;&nbsp; -0x18(%rbp), %rax</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dcc &lt;+12&gt;:&nbsp; movq&nbsp;&nbsp; %rdi, -0x8(%rbp)</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dd0 &lt;+16&gt;:&nbsp; movq&nbsp;&nbsp; %rsi, -0x10(%rbp)</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dd4 &lt;+20&gt;:&nbsp; movq&nbsp;&nbsp; $0x0, -0x18(%rbp)</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105ddc &lt;+28&gt;:&nbsp; movq&nbsp;&nbsp; %rax, %rdi</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105ddf &lt;+31&gt;:&nbsp; movq&nbsp;&nbsp; %rdx, %rsi</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105de2 &lt;+34&gt;:&nbsp; callq&nbsp; 0x1004a289a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_storeStrong</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105de7 &lt;+39&gt;:&nbsp; movq&nbsp;&nbsp; -0x18(%rbp), %rax</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105deb &lt;+43&gt;:&nbsp; movq&nbsp;&nbsp; -0x8(%rbp), %rdx</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105def &lt;+47&gt;:&nbsp; movq&nbsp;&nbsp; 0x523ad2(%rip), %rsi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; "currentDocument"</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105df6 &lt;+54&gt;:&nbsp; movq&nbsp;&nbsp; %rdx, %rdi</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105df9 &lt;+57&gt;:&nbsp; movq&nbsp;&nbsp; %rax, -0x30(%rbp)</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dfd &lt;+61&gt;:&nbsp; callq&nbsp; 0x1004a2834&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_msgSend</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e02 &lt;+66&gt;:&nbsp; movq&nbsp;&nbsp; %rax, %rdi</code></div><div class="line number18 index17 alt1"><code class="plain plain">-&gt;&nbsp; 0x100105e05 &lt;+69&gt;:&nbsp; callq&nbsp; 0x1004a286a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_retainAutoreleasedReturnValue</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e0a &lt;+74&gt;:&nbsp; movq&nbsp;&nbsp; %rax, %rdx</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e0d &lt;+77&gt;:&nbsp; movq&nbsp;&nbsp; 0x524c6c(%rip), %rsi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; "isEqual:"</code></div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e14 &lt;+84&gt;:&nbsp; movq&nbsp;&nbsp; -0x30(%rbp), %rdi</code></div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e18 &lt;+88&gt;:&nbsp; movq&nbsp;&nbsp; %rax, -0x38(%rbp)</code></div><div class="line number23 index22 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e1c &lt;+92&gt;:&nbsp; callq&nbsp; 0x1004a2834&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_msgSend</code></div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e21 &lt;+97&gt;:&nbsp; cmpb&nbsp;&nbsp; $0x0, %al</code></div><div class="line number25 index24 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e23 &lt;+99&gt;:&nbsp; setne&nbsp; %al</code></div><div class="line number26 index25 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e26 &lt;+102&gt;: xorb&nbsp;&nbsp; $0x1, %al</code></div><div class="line number27 index26 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e28 &lt;+104&gt;: movq&nbsp;&nbsp; -0x38(%rbp), %rdx</code></div><div class="line number28 index27 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e2c &lt;+108&gt;: movq&nbsp;&nbsp; %rdx, %rdi</code></div><div class="line number29 index28 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e2f &lt;+111&gt;: movb&nbsp;&nbsp; %al, -0x39(%rbp)</code></div><div class="line number30 index29 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e32 &lt;+114&gt;: callq&nbsp; 0x1004a2852&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_release</code></div><div class="line number31 index30 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e37 &lt;+119&gt;: movb&nbsp;&nbsp; -0x39(%rbp), %al</code></div><div class="line number32 index31 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e3a &lt;+122&gt;: testb&nbsp; $0x1, %al</code></div><div class="line number33 index32 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e3c &lt;+124&gt;: jne&nbsp;&nbsp;&nbsp; 0x100105e47&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; &lt;+135&gt; at EditorWindowController.m:516</code></div><div class="line number34 index33 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e42 &lt;+130&gt;: jmp&nbsp;&nbsp;&nbsp; 0x100105ec9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; &lt;+265&gt; at EditorWindowController.m:524</code></div><div class="line number35 index34 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">...</code></div></div></td></tr></tbody></table></div></div>
<p>The first thing you will notice is that at no point is objc_retain ever called.  So we are looking at tail call elimination at work (stack frames get popped as an optimization strategy), and if you're observant you'll notice the method `objc_retainAutoreleasedReturnValue`.  It's probably safe to assume, for now, that the `retain` call is being made inside of that function.</p>
<p>And indeed, if we dive into the assembly for `objc_retainAutoreleasedReturnValue`, we find this:</p>
<div><div id="highlighter_516746" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">libobjc.A.dylib`objc_retainAutoreleasedReturnValue:</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa6fc8 &lt;+0&gt;:&nbsp; movq&nbsp;&nbsp; %gs:0x160, %rax</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa6fd1 &lt;+9&gt;:&nbsp; cmpq&nbsp;&nbsp; %rdi, %rax</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa6fd4 &lt;+12&gt;: je&nbsp;&nbsp;&nbsp;&nbsp; 0x7fff8caa6fdb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; &lt;+19&gt;</code></div><div class="line number5 index4 alt2"><code class="plain plain">-&gt;&nbsp; 0x7fff8caa6fd6 &lt;+14&gt;: jmp&nbsp;&nbsp;&nbsp; 0x7fff8caa2050&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; objc_retain</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa6fdb &lt;+19&gt;: movq&nbsp;&nbsp; $0x0, %gs:0x160</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa6fe8 &lt;+32&gt;: movq&nbsp;&nbsp; %rdi, %rax</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa6feb &lt;+35&gt;: retq&nbsp;&nbsp; </code></div></div></td></tr></tbody></table></div></div>
<p>There's the $$$</p>
<p>So our *True* stack trace should look like this:</p>
<div><div id="highlighter_828404" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">0&nbsp;&nbsp; libobjc.A.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff8caa2064 objc_retain + 20</code></div><div class="line number2 index1 alt1"><code class="plain plain">*&nbsp;&nbsp; libobjc.A.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00007fff8caaXXXX objc_retainAutoreleasedReturnValue + X</code></div><div class="line number3 index2 alt2"><code class="plain plain">1&nbsp;&nbsp; Snagit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000010f9f7865 -[EditorWindowController setCurrentDocument:] (EditorWindowController.m:518)</code></div></div></td></tr></tbody></table></div></div>
<p>And in fact, if we disassemble the machine code, we see that `objc_retain + 20` is specifically this instruction:</p>
<p><code>    0x7fff8caa2064 &lt;+20&gt;: testb  $0x2, 0x20(%rax)</code></p>
<p>For reference, here is the entire assembly for `objc_retain`:</p>
<div><div id="highlighter_187993" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">libobjc.A.dylib`objc_retain:</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2050 &lt;+0&gt;:&nbsp; xorl&nbsp;&nbsp; %eax, %eax</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2052 &lt;+2&gt;:&nbsp; testq&nbsp; %rdi, %rdi</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2055 &lt;+5&gt;:&nbsp; je&nbsp;&nbsp;&nbsp;&nbsp; 0x7fff8caa2060&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; &lt;+16&gt;</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2057 &lt;+7&gt;:&nbsp; testb&nbsp; $0x1, %dil</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa205b &lt;+11&gt;: je&nbsp;&nbsp;&nbsp;&nbsp; 0x7fff8caa2061&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; &lt;+17&gt;</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa205d &lt;+13&gt;: movq&nbsp;&nbsp; %rdi, %rax</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2060 &lt;+16&gt;: retq&nbsp;&nbsp; </code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2061 &lt;+17&gt;: movq&nbsp;&nbsp; (%rdi), %rax</code></div><div class="line number10 index9 alt1"><code class="plain plain">-&gt;&nbsp; 0x7fff8caa2064 &lt;+20&gt;: testb&nbsp; $0x2, 0x20(%rax)</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2068 &lt;+24&gt;: je&nbsp;&nbsp;&nbsp;&nbsp; 0x7fff8caa206f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; &lt;+31&gt;</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa206a &lt;+26&gt;: jmp&nbsp;&nbsp;&nbsp; 0x7fff8caba3c4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; objc_object::sidetable_retain()</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa206f &lt;+31&gt;: leaq&nbsp;&nbsp; -0x143ee59e(%rip), %rax&nbsp;&nbsp; ; SEL_retain</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2076 &lt;+38&gt;: movq&nbsp;&nbsp; (%rax), %rsi</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x7fff8caa2079 &lt;+41&gt;: jmp&nbsp;&nbsp;&nbsp; 0x7fff8ca9a0c0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; objc_msgSend</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">...</code></div></div></td></tr></tbody></table></div></div>
<p>And there it is; when the assembly dereferences the rax register (and for whatever reason, with an 0x20 offset), the SIGBUS is thrown.<br>
Side note, notice that one instruction prior, the rax register had the value of the dereferenced rdi register moved into it<br>
(the instruction `movq (%rdi), %rax` is dereferencing the pointer at %rdi and placing it in %rax).</p>
<p>This can be confirmed by checking out the registers before that instruction is executed:</p>
<div><div id="highlighter_656619" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">-&gt;&nbsp;&nbsp;&nbsp;&nbsp; rax = 0xbaddc0dedeadbead</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rbx = 0x00006000001c03c0</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rcx = 0x0000000000000035</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rdx = 0x00006000001c03c0</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rdi = 0x00006180001864c0</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rsi = 0x00007fff8c0f8bfc&nbsp; "document"</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rbp = 0x00007fff5fbfe4a0</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rsp = 0x00007fff5fbfe468</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r8 = 0x000000000000007f</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r9 = 0x0000600000185bd0</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r10 = 0x000000010303f1c0</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r11 = 0x0000618000085780</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r12 = 0x00006180000857a8</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r13 = 0x0000000100558640&nbsp; @"currentDocument"</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r14 = 0x00007fff8ca9a0c0&nbsp; libobjc.A.dylib`objc_msgSend</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r15 = 0x00000001004f12c2&nbsp; "setCurrentDocument:"</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rip = 0x00007fff8caa2064&nbsp; libobjc.A.dylib`objc_retain + 20</code></div><div class="line number18 index17 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rflags = 0x0000000000000246</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">cs = 0x000000000000002b</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">fs = 0x0000000000000000</code></div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">gs = 0x0000000000000000</code></div></div></td></tr></tbody></table></div></div>
<p>You'll notice immediately that the "address" in the rax register doesn't look normal.  I didn't know this prior, but the x86 ISA uses "Canonical Addresses".  So virtual addresses don't use all 64 bits of address space, they actually only use 48 of the least significant bits.<br>
That's why valid addresses normally look like 0x0000123412341234 or 0xFFFF823412341234.  Note that the most significant 16 bits repeat the 48th significant bit</p>
<p>So it's pretty clear that somehow, some garbage was stored in the rax register, and when `testb` tries to dereference the address at rax, we get the error.</p>
<p>So let's try to figure out where this is happening, and go back to the assembly for `-setCurrentDocument`:</p>
<div><div id="highlighter_842000" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">...</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105de2 &lt;+34&gt;:&nbsp; callq&nbsp; 0x1004a289a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_storeStrong</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105de7 &lt;+39&gt;:&nbsp; movq&nbsp;&nbsp; -0x18(%rbp), %rax</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105deb &lt;+43&gt;:&nbsp; movq&nbsp;&nbsp; -0x8(%rbp), %rdx</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105def &lt;+47&gt;:&nbsp; movq&nbsp;&nbsp; 0x523ad2(%rip), %rsi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; "currentDocument"</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105df6 &lt;+54&gt;:&nbsp; movq&nbsp;&nbsp; %rdx, %rdi</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105df9 &lt;+57&gt;:&nbsp; movq&nbsp;&nbsp; %rax, -0x30(%rbp)</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105dfd &lt;+61&gt;:&nbsp; callq&nbsp; 0x1004a2834&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_msgSend</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">0x100105e02 &lt;+66&gt;:&nbsp; movq&nbsp;&nbsp; %rax, %rdi</code></div><div class="line number10 index9 alt1"><code class="plain plain">-&gt;&nbsp; 0x100105e05 &lt;+69&gt;:&nbsp; callq&nbsp; 0x1004a286a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; symbol stub for: objc_retainAutoreleasedReturnValue</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">...</code></div></div></td></tr></tbody></table></div></div>
<p>if we check out the value of rax before the objc_msgsend (which is where we fetch the `currentDocument` to pass as an argument to `-isEqual`), We have:</p>
<p>    <code>rax = 0x0000608000182560</code></p>
<p>and if we view the object at this location in memory (by using the lldb command, `po`, which stands for "print object"), we get this:</p>
<div><div id="highlighter_354811" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">po 0x0000608000182560</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="plain plain">-&gt;&nbsp;&nbsp; &lt;ImageDocument: 0x608000181fb0&gt;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">fileURL = <a href="file:///Users/mattao/Documents/Snagit/Autosaved%20Captures.localized/2015-08-25_17-49-27.snagproj">file:///Users/mattao/Documents/Snagit/Autosaved%20Captures.localized/2015-08-25_17-49-27.snagproj</a></code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">canvasRect = {{0, 0}, {500, 440}}</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">backgroundSize = {0, 0}</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">backgroundColor = NSCalibratedWhiteColorSpace 0 0</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">objects = (</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">)</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">flattenedObjects = (</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">)</code></div></div></td></tr></tbody></table></div></div>
<p>This is actually the `document` argument that is passed into `-setCurrentDocument`.  It was placed in the `rax` register from the `objc_storeStrong` call.</p>
<div><div id="highlighter_228117" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rax = 0x0000608000182560</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rbx = 0x00006080001c02d0</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rcx = 0x0000000000000035</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rdx = 0x00006080001c02d0</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rdi = 0x00006080001c02d0</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rsi = 0x00007fff8c12884b&nbsp; "currentDocument"</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rbp = 0x00007fff5fbfe4f0</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rsp = 0x00007fff5fbfe4b0</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r8 = 0x000000000000007f</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r9 = 0x0000608000182560</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r10 = 0x0000000102860c50</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r11 = 0x0000000100641918&nbsp; (void *)0x00000001006418f0: EditorWindowController</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r12 = 0x00006100000850c8</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r13 = 0x0000000100558640&nbsp; @"currentDocument"</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r14 = 0x00007fff8ca9a0c0&nbsp; libobjc.A.dylib`objc_msgSend</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r15 = 0x00000001004f1302&nbsp; "setCurrentDocument:"</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rip = 0x0000000100105e49&nbsp; Snagit`-[EditorWindowController setCurrentDocument:] + 57 at EditorWindowController.m:514</code></div><div class="line number18 index17 alt1"><code class="plain plain">rflags = 0x0000000000000246</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">cs = 0x000000000000002b</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">fs = 0x0000000000000000</code></div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">gs = 0x0000000000000000</code></div></div></td></tr></tbody></table></div></div>
<p>If we look at the other registers at this point, we can see clearly what method is going to be called w/ `objc_msgSend`.<br>
`rsi` is the selector (the method; more specifically, an accessor [more specifically, a getter]), currentDocument,<br>
and `rdi` is the receiver, the `EditorWindowController`</p>
<p>The returned value will be placed in the rax register.  We are expecting currentDocument (which if you look up at the source code is actually just a wrapper for `[self document]`)</p>
<p>So... let's take a look at the registers after the `objc_msgSend`</p>
<div><div id="highlighter_806204" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rax = 0x0000618000183dc0</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rbx = 0x00006080001c02d0</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rcx = 0x0000000000000035</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rdx = 0x00006080001c02d0</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rdi = 0x00006080001c02d0</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rsi = 0x00007fff8c0f8bfc&nbsp; "document"</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rbp = 0x00007fff5fbfe4f0</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rsp = 0x00007fff5fbfe4b0</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r8 = 0x000000000000007f</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r9 = 0x0000608000182560</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r10 = 0x0000000102115fc0</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r11 = 0x00006100000850a0</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r12 = 0x00006100000850c8</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r13 = 0x0000000100558640&nbsp; @"currentDocument"</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r14 = 0x00007fff8ca9a0c0&nbsp; libobjc.A.dylib`objc_msgSend</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">r15 = 0x00000001004f1302&nbsp; "setCurrentDocument:"</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rip = 0x0000000100105e52&nbsp; Snagit`-[EditorWindowController setCurrentDocument:] + 66 at EditorWindowController.m:514</code></div><div class="line number18 index17 alt1"><code class="plain plain">rflags = 0x0000000000000206</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">cs = 0x000000000000002b</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">fs = 0x0000000000000000</code></div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">gs = 0x0000000000000000</code></div></div></td></tr></tbody></table></div></div>
<p>rax has changed now, and if we look at the object that this address (0x0000618000183dc0) is pointing at, we get this:</p>
<div><div id="highlighter_814861" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">(lldb) po 0x0000618000183dc0</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="plain plain">-&gt;&nbsp;&nbsp; 107202385296832</code></div></div></td></tr></tbody></table></div></div>
<p>So what gives?<br>
The pointer we are getting back from [self currentDocument] appears to not be pointing to a valid object anymore.</p>
<p>This one had me stuck for a while, but I eventually figured out that when you `po` an address that doesn't point to an NSObject, for *whatever* reason, it prints out the decimal representation of the address...<br>
Surprisingly very confusing at first, I thought that number was just gibberish; but in fact (hexadecimal) 0x0000618000183dc0 &lt;-&gt; (decimal) 107202385296832</p>
<p>So okay that helps, I can now just check out the data at address 0x0000618000183dc0 to see what's there.  Let's take a look at the first word at that address by using the Xcode Memory Browser:</p>
<p>		<code>AD BE AD DE DE C0 DD BA.  </code></p>
<p>Xcode memory browser displays bytes in reverse order, so the first word we have here is actually BADDC0DEDEADBEAD.  </p>
<p>Notice something?  That is exactly the value that was stored in the rax register when we dereferenced.</p>
<p>So what is this?</p>
<p>Turns out, every NSObject has a hidden property called `isa`, which actually stands for "is a".  This points to a `Class` object that is primarily used to tell you the name of the class.</p>
<p>This `isa` pointer property is the first word in the allocated space in memory for the object.</p>
<p>Great, we're in business now.  This bus error appears to happen because we are trying to dereference a location in memory, looking for the value backed by the `isa` pointer.<br>
But when it tries to dereference 0xBADDC0DEDEADBEAD, the processor throws a bus error because this is not a valid physical address (not canonical, which is also why the original SIGBUS reported an address of 0x0, because non-canonical addresses get signaled as 0x0 [well technically, it's undefined, but anecdotally it will be 0x0])</p>
<p>And this is perfect, because we can easily find resources as to why `isa` could be invalid.<br>
As it turns out, when a object is released and marked as dead, the `isa` pointer is changed.</p>
<p>So now we have a very clear story of what's happening.</p>
<p>- The `[self currentDocument]` returns the `document` pointer<br>
- We are reading the object referenced by `document`, in order to compare it with `isEqual`<br>
- We successfully read an object, but crash upon trying to retain the object (the object would have been released after the comparison, if you look at instruction offset +114)<br>
- We know this is because we are trying to dereference the `isa` pointer, which is garbage<br>
- The `isa` pointer is garbage because the object has been released, and the `isa` value has been changed to reflect that while the object is still in memory, it is no longer alive.<br>
- This means that the object was valid when we tried to read it, but had already been released when we tried to retain it<br>
- So somewhere, a concurrent setter on the `document` is being called, possibly changing the type (because we subclass NSDocument w/ different children, this is definitely plausible)<br>
- This releases the original `document` object that was read.</p>
<p>So how can we fix this?</p>
<p>The first thing that I thought of was to make the `@property` atomic, which in theory would work-- except that we don't actually have access to the underlying `document` @property-- it exists through the Cocoa API under the `NSWindowController` class that we are inheriting.  Alternatively, we could make `currentDocument` an atomic @property, instead of wrapper accessor methods to `document`, but this seems silly because we would be retaining a property whose getter/setter go directly to another property.</p>
<p>Then the <strong>worst</strong> thing happened.  I finally noticed that inside of `-setCurrentDocument`, we are calling `[<strong>self</strong> setDocument]`...<br>
It couldn't be...</p>
<p>Yep, we already are overriding the setter for `document`</p>
<div><div id="highlighter_964652" class="syntaxhighlighter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">- (void)setDocument:(NSDocument *)document</code></div><div class="line number2 index1 alt1"><code class="plain plain">{</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if ( _shouldSetDocument )</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (document)</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[_editorViewController switchToEditorForDocument:(MediaDocument*)document];</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self willChangeValueForKey:@"currentDocument"];</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self willChangeValueForKey:@"canSelectNextDocument"];</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self willChangeValueForKey:@"canSelectPreviousDocument"];</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self willChangeValueForKey:@"isVideoMode"];</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[super setDocument:document];</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self updateWindowWithDocument:(MediaDocument*)document];</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self didChangeValueForKey:@"currentDocument"];</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self didChangeValueForKey:@"canSelectNextDocument"];</code></div><div class="line number18 index17 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self didChangeValueForKey:@"canSelectPreviousDocument"];</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[self didChangeValueForKey:@"isVideoMode"];</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if ( [self isVideoMode] )</code></div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number23 index22 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[_buttonBarController setExpanded:NO];</code></div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number25 index24 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number26 index25 alt1"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>So setCurrentDocument doesn't even wrap the `NSWindowController`s `-setDocument`, it wraps our `EditorWindowController`s `-setDocument`.</p>
<p>So now things become a little more clear.<br>
There are places where we calling `[EditorWindowController setDocument:imageDocument]` and places where we are calling `[EditorWindowController setCurrentDocument:videoDocument]`, etc. etc.</p>
<p>It appears that <strong>`setCurrentDocument` serves no purpose.</strong></p>
<p>If we look at the blame, here is the commit message when the method was added:</p>
<blockquote><p>		Anon Dev, July 29, 2009:</p>
<p>		Merging singlewindowmultidocument branch with trunk</p>
<p>		ci</p></blockquote>
<p>So... yeah.<br>
I moved the `[document didFinishSettingDocument];` call inside of `-setCurrentDocument` into `-setDocument`<br>
Then deleted `-setCurrentDocument`, and rerouted all previous calls to that method to `-setDocument`.</p>
<p>Now I am unable to reproduce the bug with my own testing.  It is entirely possible that it is still reproducable, because I was never able to reproduce it the same way our users were-- but I am pretty satisfied with my results.</p>
<p>Does anybody have an experience similar to this, or have anything they could add? </p>
<div style="display: none">UA:D [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10871_a_up" class="gdt-size-20 gdthumb gdup"><div class="gdt-starrating"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10871_a" class="gdt-size-20 voted inactive gdthumbtext">Rating: <strong>+1</strong> (from 1 vote)</div></div></div>
<div class="cat_tags clear">
<span class="category">Filed under: <a href="http://devblog.techsmith.com/category/developer-competency/debugging/" title="View all posts in Debugging" rel="category tag">Debugging</a>, <a href="http://devblog.techsmith.com/category/mac-os/" title="View all posts in Mac OS" rel="category tag">Mac OS</a>, <a href="http://devblog.techsmith.com/category/languages/objective-c/" title="View all posts in Objective C" rel="category tag">Objective C</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/08/26/debugging-a-bus-error-in-snagit-mac-using-a-disassembler-watching-registers/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10842 post type-post status-publish format-standard hentry category-uncategorized" id="post-10842">
<div class="comm_date"><span class="data"><span class="j">20</span>Aug/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/08/20/composite-collections-in-wpf-combining-different-types-into-one-view/#comments">0</a></span></div>
<h2><a title="Composite Collections in WPF – Combining different types into one view." href="http://devblog.techsmith.com/2015/08/20/composite-collections-in-wpf-combining-different-types-into-one-view/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Composite " style="width: 142px; height: 24px;"><canvas width="164" height="25" style="width: 164px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Composite </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Collections " style="width: 146px; height: 24px;"><canvas width="167" height="25" style="width: 167px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Collections </cufontext></cufon><cufon class="cufon cufon-canvas" alt="in " style="width: 31px; height: 24px;"><canvas width="52" height="25" style="width: 52px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>in </cufontext></cufon><cufon class="cufon cufon-canvas" alt="WPF " style="width: 66px; height: 24px;"><canvas width="87" height="25" style="width: 87px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>WPF </cufontext></cufon><cufon class="cufon cufon-canvas" alt="– " style="width: 19px; height: 24px;"><canvas width="40" height="25" style="width: 40px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>– </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Combining " style="width: 143px; height: 24px;"><canvas width="165" height="25" style="width: 165px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Combining </cufontext></cufon><cufon class="cufon cufon-canvas" alt="different " style="width: 118px; height: 24px;"><canvas width="140" height="25" style="width: 140px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>different </cufontext></cufon><cufon class="cufon cufon-canvas" alt="types " style="width: 78px; height: 24px;"><canvas width="99" height="25" style="width: 99px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>types </cufontext></cufon><cufon class="cufon cufon-canvas" alt="into " style="width: 57px; height: 24px;"><canvas width="78" height="25" style="width: 78px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>into </cufontext></cufon><cufon class="cufon cufon-canvas" alt="one " style="width: 55px; height: 24px;"><canvas width="76" height="25" style="width: 76px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>one </cufontext></cufon><cufon class="cufon cufon-canvas" alt="view." style="width: 66px; height: 24px;"><canvas width="86" height="25" style="width: 86px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>view.</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/t-chapman/" title="Posts by Travis Chapman" rel="author">Travis Chapman</a> </h4>
</div>
<p>So let's say, hypothetically, you're creating video editing software, and you have a list of effects you want to show up in a tool panel that the user can apply. You make a fancy C# view model and come up with an&nbsp;ObservableCollection&lt;ToolPanelEffectControlViewModel&gt;() to hold them all in. You switch into XAML, your favorite, and toss in an ItemsControl, something like:</p>
<div><div id="highlighter_780484" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl</code> <code class="xml color1">ItemsSource</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.EffectsCollection, Mode=OneWay}"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.Resources</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">DataTemplate</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ToolPanelControls:EffectControl</code> <code class="xml color1">EffectType</code><code class="xml plain">=</code><code class="xml string">"{Binding EffectType}"</code>&nbsp;<code class="xml plain">/&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">DataTemplate</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.Resources</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.ItemsPanel</code><code class="xml plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsPanelTemplate</code><code class="xml plain">&gt;</code></div><div class="line number9 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">WrapPanel</code> <code class="xml color1">Background</code><code class="xml plain">=</code><code class="xml string">"Transparent"</code> <code class="xml plain">/&gt;</code></div><div class="line number10 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsPanelTemplate</code><code class="xml plain">&gt;;</code></div><div class="line number11 index10 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.ItemsPanel</code><code class="xml plain">&gt;</code></div><div class="line number12 index11 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p><img src="./DevBlog_files/cc1.png"></p>
<p>Awesome. Looks great. Here comes trouble, though: now you need to add an AnimationControl into the mix. The easy solution is to make a new ItemsControl, but now you've got two WrapPanels instead of one, which is bad news if you have UX people:</p>
<p><img src="./DevBlog_files/cc2.png"></p>
<p>What you really want is a way to have one ItemsControl be populated by more than one data source. Enter: Composite Collections. Rather than use ItemsSource as a property, make it a new tag:</p>
<div><div id="highlighter_171972" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.ItemsSource</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CompositeCollection</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionContainer</code> <code class="xml color1">Collection</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.EffectsCollection, Mode=OneWay}"</code> <code class="xml plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionContainer</code> <code class="xml color1">Collection</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.AnimationsCollection, Mode=OneWay}"</code> <code class="xml plain">/&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">CompositeCollection</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.ItemsSource</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>There are just two problems with this so far:</p>
<ol>
<li>I lied a bit, sorry. The CompositeCollection doesn't actually have access to the DataContext, so we need to be a bit more clever than just binding the Collection property.</li>
<li>We want these to use different templates.</li>
</ol>
<p>The first fix is pretty easy, just define some resources to use as a sort of proxy or bridge for the data:</p>
<div><div id="highlighter_771682" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">Window.Resources</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionViewSource</code> <code class="xml color1">x:Key</code><code class="xml plain">=</code><code class="xml string">"EffectsBridge"</code>&nbsp;<code class="xml color1">Source</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.EffectsCollection, Mode=OneWay}"</code> <code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionViewSource</code> <code class="xml color1">x:Key</code><code class="xml plain">=</code><code class="xml string">"AnimationsBridge"</code>&nbsp;<code class="xml color1">Source</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.AnimationsCollection, Mode=OneWay}"</code> <code class="xml plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">Window.Resources</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>...and bind your CollectionContainers to the new keys:</p>
<div><div id="highlighter_211979" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">CollectionContainer</code> <code class="xml color1">Collection</code><code class="xml plain">=</code><code class="xml string">"{Binding Source={StaticResource EffectsBridge}}"</code> <code class="xml plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">CollectionContainer</code> <code class="xml color1">Collection</code><code class="xml plain">=</code><code class="xml string">"{Binding Source={StaticResource AnimationsBridge}}"</code> <code class="xml plain">/&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>Bam. That takes care of our first issue. The second fix is even easier: DataTemplates can have a DataType property defined to tell WPF what they should be used for.</p>
<div><div id="highlighter_123320" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">DataTemplate</code> <code class="xml color1">DataType</code><code class="xml plain">=</code><code class="xml string">"{x:Type local:ToolPanelEffectControlViewModel}"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ToolPanelControls:EffectControl</code> <code class="xml color1">EffectType</code><code class="xml plain">=</code><code class="xml string">"{Binding EffectType}"</code> <code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">DataTemplate</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">DataTemplate</code> <code class="xml color1">DataType</code><code class="xml plain">=</code><code class="xml string">"{x:Type local:ToolPanelAnimationControlViewModel}"</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ToolPanelControls:AnimationControl</code> <code class="xml color1">AnimationType</code><code class="xml plain">=</code><code class="xml string">"{Binding AnimationType}"</code> <code class="xml plain">/&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">DataTemplate</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>Now each template will be used for the type specified. It's important to note that using ItemsControl.ItemTemplate won't work here, because you can only have one template in there, but putting them into ItemsControl.Resources works just fine. Putting it all together, we get something like this:</p>
<div><div id="highlighter_270461" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">Window.Resources</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionViewSource</code> <code class="xml color1">x:Key</code><code class="xml plain">=</code><code class="xml string">"EffectsBridge"</code>&nbsp;<code class="xml color1">Source</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.EffectsCollection, Mode=OneWay}"</code> <code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionViewSource</code> <code class="xml color1">x:Key</code><code class="xml plain">=</code><code class="xml string">"AnimationsBridge"</code>&nbsp;<code class="xml color1">Source</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.AnimationsCollection, Mode=OneWay}"</code> <code class="xml plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">Window.Resources</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.ItemsSource</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CompositeCollection</code><code class="xml plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionContainer</code> <code class="xml color1">Collection</code><code class="xml plain">=</code><code class="xml string">"{Binding Source={StaticResourceEffectsBridge}}"</code> <code class="xml plain">/&gt;</code></div><div class="line number9 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionContainer</code> <code class="xml color1">Collection</code><code class="xml plain">=</code><code class="xml string">"{Binding Source={StaticResource AnimationsBridge}}"</code> <code class="xml plain">/&gt;</code></div><div class="line number10 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">CompositeCollection</code><code class="xml plain">&gt;</code></div><div class="line number11 index10 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.ItemsSource</code><code class="xml plain">&gt;</code></div><div class="line number12 index11 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.Resources</code><code class="xml plain">&gt;</code></div><div class="line number13 index12 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">DataTemplate</code> <code class="xml color1">DataType</code><code class="xml plain">=</code><code class="xml string">"{x:Type local:ToolPanelEffectControlViewModel}"</code><code class="xml plain">&gt;</code></div><div class="line number14 index13 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ToolPanelControls:EffectControl</code> <code class="xml color1">EffectType</code><code class="xml plain">=</code><code class="xml string">"{Binding EffectType}"</code> <code class="xml plain">/&gt;</code></div><div class="line number15 index14 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">DataTemplate</code><code class="xml plain">&gt;</code></div><div class="line number16 index15 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">DataTemplate</code> <code class="xml color1">DataType</code><code class="xml plain">=</code><code class="xml string">"{x:Type local:ToolPanelAnimationControlViewModel}"</code><code class="xml plain">&gt;</code></div><div class="line number17 index16 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ToolPanelControls:AnimationControl</code> <code class="xml color1">AnimationType</code><code class="xml plain">=</code><code class="xml string">"{Binding AnimationType}"</code> <code class="xml plain">/&gt;</code></div><div class="line number18 index17 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">DataTemplate</code><code class="xml plain">&gt;</code></div><div class="line number19 index18 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.Resources</code><code class="xml plain">&gt;</code></div><div class="line number20 index19 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.ItemsPanel</code><code class="xml plain">&gt;</code></div><div class="line number21 index20 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsPanelTemplate</code><code class="xml plain">&gt;</code></div><div class="line number22 index21 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">WrapPanel</code> <code class="xml color1">Background</code><code class="xml plain">=</code><code class="xml string">"Transparent"</code> <code class="xml plain">/&gt;</code></div><div class="line number23 index22 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsPanelTemplate</code><code class="xml plain">&gt;</code></div><div class="line number24 index23 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.ItemsPanel</code><code class="xml plain">&gt;</code></div><div class="line number25 index24 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p><img src="./DevBlog_files/cc3.png"></p>
<p>It's also worth mentioning that you can put raw elements into your CompositeCollection as well. For instance, if you only had one AnimationControl, you could do this:</p>
<div><div id="highlighter_189330" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">Window.Resources</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionViewSource</code> <code class="xml color1">x:Key</code><code class="xml plain">=</code><code class="xml string">"EffectsBridge"</code>&nbsp;<code class="xml color1">Source</code><code class="xml plain">=</code><code class="xml string">"{Binding Path=ToolPanelEffectsManager.EffectsCollection, Mode=OneWay}"</code> <code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">Window.Resources</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.ItemsSource</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CompositeCollection</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">CollectionContainer</code> <code class="xml color1">Collection</code><code class="xml plain">=</code><code class="xml string">"{Binding Source={StaticResourceEffectsBridge}}"</code> <code class="xml plain">/&gt;</code></div><div class="line number8 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ToolPanelControls:AnimationControl</code> <code class="xml color1">AnimationType</code><code class="xml plain">=</code><code class="xml string">"{StaticResource AnimationName}"</code> <code class="xml plain">/&gt;</code></div><div class="line number9 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">CompositeCollection</code><code class="xml plain">&gt;</code></div><div class="line number10 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.ItemsSource</code><code class="xml plain">&gt;</code></div><div class="line number11 index10 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.Resources</code><code class="xml plain">&gt;</code></div><div class="line number12 index11 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">DataTemplate</code> <code class="xml color1">DataType</code><code class="xml plain">=</code><code class="xml string">"{x:Type local:ToolPanelEffectControlViewModel}"</code><code class="xml plain">&gt;</code></div><div class="line number13 index12 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ToolPanelControls:EffectControl</code> <code class="xml color1">EffectType</code><code class="xml plain">=</code><code class="xml string">"{Binding EffectType}"</code> <code class="xml plain">/&gt;</code></div><div class="line number14 index13 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">DataTemplate</code><code class="xml plain">&gt;</code></div><div class="line number15 index14 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.Resources</code><code class="xml plain">&gt;</code></div><div class="line number16 index15 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsControl.ItemsPanel</code><code class="xml plain">&gt;</code></div><div class="line number17 index16 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">ItemsPanelTemplate</code><code class="xml plain">&gt;</code></div><div class="line number18 index17 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">WrapPanel</code> <code class="xml color1">Background</code><code class="xml plain">=</code><code class="xml string">"Transparent"</code> <code class="xml plain">/&gt;</code></div><div class="line number19 index18 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsPanelTemplate</code><code class="xml plain">&gt;</code></div><div class="line number20 index19 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl.ItemsPanel</code><code class="xml plain">&gt;</code></div><div class="line number21 index20 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">ItemsControl</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>...and the WrapPanel will include everything in the collection. Pretty simple!</p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10842_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10842XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10842_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10842_a" class="gdt-size-20 gdthumbtext">Rating: <strong>0</strong> (from 0 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Filed under: <a href="http://devblog.techsmith.com/category/uncategorized/" title="View all posts in development" rel="category tag">development</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/08/20/composite-collections-in-wpf-combining-different-types-into-one-view/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10800 post type-post status-publish format-standard hentry category-c-languages category-uncategorized tag-c" id="post-10800">
<div class="comm_date"><span class="data"><span class="j">28</span>Jul/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/28/constexpr-strings/#comments">0</a></span></div>
<h2><a title="Constexpr Strings" href="http://devblog.techsmith.com/2015/07/28/constexpr-strings/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Constexpr " style="width: 137px; height: 24px;"><canvas width="158" height="25" style="width: 158px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Constexpr </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Strings" style="width: 91px; height: 24px;"><canvas width="106" height="25" style="width: 106px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Strings</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/a-orians/" title="Posts by A.J. Orians" rel="author">A.J. Orians</a> </h4>
</div>
<p>If you wanted to have an array of characters in a header file you might have tried doing it as follows:</p>
<div><div id="highlighter_438214" class="syntaxhighlighter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#pragma once</code></div><div class="line number2 index1 alt1"><code class="cpp keyword bold">namespace</code> <code class="cpp plain">Constants</code></div><div class="line number3 index2 alt2"><code class="cpp plain">{</code></div><div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">extern</code> <code class="cpp keyword bold">const</code> <code class="cpp color1 bold">char</code><code class="cpp plain">* g_strExample = </code><code class="cpp string">"ExampleString"</code><code class="cpp plain">;</code></div><div class="line number5 index4 alt2"><code class="cpp plain">}</code></div><div class="line number6 index5 alt1"><code class="cpp comments">//...</code></div></div></td></tr></tbody></table></div></div>
<p>Only this header file gets included from several source files and thus will be defined in multiple translation units giving the linker error:</p>
<pre>"error LNK2005... Constants::g_strExample already defined in Blah.obj"</pre>
<p>Of course you can fix this by making the header just declare the string and have the actual definition be in one of the source files.&nbsp; Often we use the approach of a simple macro; for example:</p>
<div><div id="highlighter_832415" class="syntaxhighlighter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#define EXAMPLE_STRING&nbsp; "ExampleString"</code></div></div></td></tr></tbody></table></div></div>
<p>With Visual Studio 2015 you could use constexpr in your header file such that the following will work:</p>
<div><div id="highlighter_521891" class="syntaxhighlighter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#pragma once</code></div><div class="line number2 index1 alt1"><code class="cpp keyword bold">namespace</code> <code class="cpp plain">Constants</code></div><div class="line number3 index2 alt2"><code class="cpp plain">{</code></div><div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">constexpr </code><code class="cpp keyword bold">const</code> <code class="cpp color1 bold">char</code><code class="cpp plain">* g_strExample = </code><code class="cpp string">"ExampleString"</code><code class="cpp plain">;</code></div><div class="line number5 index4 alt2"><code class="cpp plain">}</code></div><div class="line number6 index5 alt1"><code class="cpp comments">//...</code></div></div></td></tr></tbody></table></div></div>
<p>The constexpr specifier declares that it is possible to evaluate the value at compile time.&nbsp; There are lots of applications where constexpr changes things and this is just one of them.&nbsp; Will you be using constexpr in your projects?&nbsp; Do you have a decent understanding on constexpr?&nbsp; Let me know what you think!</p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10800_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10800XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10800_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10800_a" class="gdt-size-20 gdthumbtext">Rating: <strong>+2</strong> (from 2 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Tagged as: <a href="http://devblog.techsmith.com/tag/c/" rel="tag">c++</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/28/constexpr-strings/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10796 post type-post status-publish format-standard hentry category-csharp category-uncategorized tag-charp" id="post-10796">
<div class="comm_date"><span class="data"><span class="j">27</span>Jul/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/27/exception-filters/#comments">0</a></span></div>
<h2><a title="Exception Filters" href="http://devblog.techsmith.com/2015/07/27/exception-filters/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Exception " style="width: 132px; height: 24px;"><canvas width="153" height="25" style="width: 153px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Exception </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Filters" style="width: 80px; height: 24px;"><canvas width="96" height="25" style="width: 96px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Filters</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/a-orians/" title="Posts by A.J. Orians" rel="author">A.J. Orians</a> </h4>
</div>
<p>New in C# 6.0 is something called Exception Filters.&nbsp; With Visual Studio 2015 you can use this feature.&nbsp; To understand them consider this small code sample:</p>
<div><div id="highlighter_745312" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">try</code></div><div class="line number2 index1 alt1"><code class="csharp plain">{</code></div><div class="line number3 index2 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">throw</code> <code class="csharp keyword">new</code> <code class="csharp plain">MyException();</code></div><div class="line number4 index3 alt1"><code class="csharp plain">}</code></div><div class="line number5 index4 alt2"><code class="csharp keyword">catch</code> <code class="csharp plain">(MyException ex) when(ex.m_nCount &gt;= 5)</code></div><div class="line number6 index5 alt1"><code class="csharp plain">{</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Notice how to the right of the catch is a little extra?&nbsp; We'll call that the filter.&nbsp; The exception isn't caught on the catch if the filter evaluates to false.</p>
<p>Why would you use this?&nbsp; It might increase the readability of your code.&nbsp; It is suppose to make it clear what is caught and when.&nbsp; As you already know you can catch an exception and if you can't do anything with it you might rethrow the exception to some other catch to handle.&nbsp; But because the exception was already caught rethrowing the exception won't hit any of the remaining catch statements so you'd need to nest your try-catches or something similar.&nbsp; Whereas with Exception Filters the exception isn't caught unless the filter is <em>true</em>.</p>
<p>So what can go in the filters?&nbsp; For fun I called a public static method that returns a <em>bool</em> and it worked:</p>
<div><div id="highlighter_907856" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">try</code></div><div class="line number2 index1 alt1"><code class="csharp plain">{</code></div><div class="line number3 index2 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">throw</code> <code class="csharp keyword">new</code> <code class="csharp plain">MyException();</code></div><div class="line number4 index3 alt1"><code class="csharp plain">}</code></div><div class="line number5 index4 alt2"><code class="csharp keyword">catch</code> <code class="csharp plain">(MyException ex) when(SomeClass.IncrementCounter())</code></div><div class="line number6 index5 alt1"><code class="csharp plain">{</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>And just for fun I decided to find out what would happen if I threw a different exception in the method that is my filter is calling.&nbsp; To my shock it took the filter as <em>false</em> and went to the next catch.&nbsp; I could see somebody adding logging or something with those catch filters and if for some reason something serious happens and its exception just disappears is a tad disappointing.&nbsp; If you understand why let me know!</p>
<p>Nonetheless I changed the target .Net framework version to 4.0 and this feature worked fine as I could tell.&nbsp; So it probably is just a compiler feature.&nbsp; Will you be using this feature in your product in the future?&nbsp; Let me know what you think!</p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10796_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10796XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10796_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10796_a" class="gdt-size-20 gdthumbtext">Rating: <strong>+2</strong> (from 2 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Tagged as: <a href="http://devblog.techsmith.com/tag/charp/" rel="tag">charp</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/27/exception-filters/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10777 post type-post status-publish format-standard hentry category-uncategorized" id="post-10777">
<div class="comm_date"><span class="data"><span class="j">20</span>Jul/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/20/designing-software-for-customers-as-opposed-to-individual-users/#comments">2</a></span></div>
<h2><a title="Designing software for customers (as opposed to individual users)" href="http://devblog.techsmith.com/2015/07/20/designing-software-for-customers-as-opposed-to-individual-users/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Designing " style="width: 135px; height: 24px;"><canvas width="156" height="25" style="width: 156px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Designing </cufontext></cufon><cufon class="cufon cufon-canvas" alt="software " style="width: 119px; height: 24px;"><canvas width="140" height="25" style="width: 140px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>software </cufontext></cufon><cufon class="cufon cufon-canvas" alt="for " style="width: 44px; height: 24px;"><canvas width="65" height="25" style="width: 65px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>for </cufontext></cufon><cufon class="cufon cufon-canvas" alt="customers " style="width: 140px; height: 24px;"><canvas width="161" height="25" style="width: 161px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>customers </cufontext></cufon><cufon class="cufon cufon-canvas" alt="(as " style="width: 46px; height: 24px;"><canvas width="67" height="25" style="width: 67px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>(as </cufontext></cufon><cufon class="cufon cufon-canvas" alt="opposed " style="width: 116px; height: 24px;"><canvas width="137" height="25" style="width: 137px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>opposed </cufontext></cufon><cufon class="cufon cufon-canvas" alt="to " style="width: 34px; height: 24px;"><canvas width="55" height="25" style="width: 55px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>to </cufontext></cufon><cufon class="cufon cufon-canvas" alt="individual " style="width: 131px; height: 24px;"><canvas width="153" height="25" style="width: 153px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>individual </cufontext></cufon><cufon class="cufon cufon-canvas" alt="users)" style="width: 80px; height: 24px;"><canvas width="98" height="25" style="width: 98px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>users)</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/c-hoagland/" title="Posts by Clint Hoagland" rel="author">Clint Hoagland</a> </h4>
</div>
<p>At this morning's Monday Morning Meeting, Bill H mentioned that, in designing for enterprise customers, TechSmith is delving into brand new territory and doing something we've never tried before. That is... not strictly true: TechSmith Relay (née Camtasia Relay) has always been designed with enterprise customers in mind. Whether or not we've succeeded in meeting our customers' needs, we have found a couple of useful techniques for considering the various customer tiers in an enterprise situation during design, development, and testing.</p>
<h3>Technique: Develop Customer Personas</h3>
<p><a href="http://devblog.techsmith.com/wp-content/uploads/2015/07/Personas1.png"><img class="alignnone size-medium wp-image-10782" title="Personas" src="./DevBlog_files/Personas1-300x225.png" alt="" width="300" height="225"></a></p>
<p>Early in the development process (roundabout Camtasia Relay 1.1 or 1.2, so, circa 2009?) the entire team met with UX for a 2-day workshop, led by Casey Wright, where we developed <em>Customer Personas</em> for the various roles within an organization. During that discussion - which was a collaboration between customer-facing people from Sales, Product Management, development/QA, and UX - we determined that we were interested in three types of customer persona, which we roughly referred to as <em>Admins</em>, <em>Presenters</em>, and <em>Viewers</em>. Within those types, we identified a few different personas. (Preserved for posterity <a href="https://offtechsmith.sharepoint.com/teams/teamsite/Relay/_layouts/15/start.aspx#/Wiki/UX/Relay%20Personas.aspx">here</a>.)</p>
<p>It's worth mentioning that those categories may still be useful for other products thinking about the enterprise space.</p>
<h3>Technique: Discuss New Work in Terms of the Personas it Affects</h3>
<p>Once we had the personas in place, we were able to leverage them while discussing our work. At first, we tried using Agile-style <em>user stories</em> with the personas as characters in those stories. That didn't work out too well for us... I'm not convinced it's a bad technique, but we certainly didn't do the work to get good at it, and we eventually dropped user stories. However, what <em>did</em> stick was the shorthand language that the personas provided. For example, it was useful for us to encapsulate "engaged administrator with lots of free time and a budget" ("Donald") vs. "disengaged adminstrator who admins lots of IT products and doesn't care about Relay." ("Kirk.") When discussing a new feature, saying "This is for Mary," or "This is for Chris; we don't expect Mary to use it," was a helpful way to aid in discussions between designers, developers, and testers.</p>
<p>If your team discusses features in terms of acceptance criteria, the <a href="http://pivotallabs.com/well-formed-stories/">common Gherkin format</a> provides a nice opportunity to add persona sauce: instead of blandly saying "as an admin," say "as Kirk," as an example (or whatever name your persona analysis provided).</p>
<h3>Technique: Use Persona-based Scenario Tests During Team-wide Acceptance Testing</h3>
<p><a href="http://devblog.techsmith.com/wp-content/uploads/2015/07/scenarioCase.png"><img src="./DevBlog_files/scenarioCase-300x266.png" alt="" title="scenarioCase" width="300" height="266" class="alignnone size-medium wp-image-10787"></a><br>
One of my favorite techniques for assessing the quality of a product at acceptance-testing time (that is, when a feature is supposedly "done") is to design a <a href="https://en.wikipedia.org/wiki/Scenario_testing">scenario test</a> that exercises the new feature by having people use the way we hoped users would. Personas are useful during this activity: if the central challenge of creating a useful scenario test is to create scenarios that are "credible and motivating," personas carry you a long ways toward that goal: the team already has some agreement on the users we care about, and we already understand what those users' needs and biases are, so the test scenario doesn't need to describe that from scratch. All that's needed is a description of the problem, the persona experiencing that problem, and your software. Pretend you're that person using this software to solve that problem. </p>
<p>We found this activity to be productive, both in terms of bugfinding and in terms of generating UX feedback that could be acted upon in the next iteration. It creates a valuable discussion and helps the team understand the product in terms of how its users will perceive it.</p>
<h3>Customers vs. Users</h3>
<p>In Bill's comments this morning, he  mentioned that we - as an organization - are experienced at designing for users, but less experienced at designing for customers. These techniques can be helpful in bringing those non-user customers into your team's discussions.</p>
<p>Please share your comments on <a href="https://www.flowdock.com/app/techsmith/development">Flowdock!</a></p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10777_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10777XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10777_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10777_a" class="gdt-size-20 gdthumbtext">Rating: <strong>+3</strong> (from 3 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Filed under: <a href="http://devblog.techsmith.com/category/uncategorized/" title="View all posts in development" rel="category tag">development</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/20/designing-software-for-customers-as-opposed-to-individual-users/#comments">2 Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10771 post type-post status-publish format-standard hentry category-c-languages category-uncategorized tag-c" id="post-10771">
<div class="comm_date"><span class="data"><span class="j">14</span>Jul/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/14/adjust-browser-helper-objects-user-agent-string/#comments">0</a></span></div>
<h2><a title="Adjust Browser Helper Object’s User Agent String" href="http://devblog.techsmith.com/2015/07/14/adjust-browser-helper-objects-user-agent-string/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Adjust " style="width: 89px; height: 24px;"><canvas width="110" height="25" style="width: 110px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Adjust </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Browser " style="width: 112px; height: 24px;"><canvas width="133" height="25" style="width: 133px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Browser </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Helper " style="width: 92px; height: 24px;"><canvas width="113" height="25" style="width: 113px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Helper </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Object’s " style="width: 111px; height: 24px;"><canvas width="132" height="25" style="width: 132px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Object’s </cufontext></cufon><cufon class="cufon cufon-canvas" alt="User " style="width: 66px; height: 24px;"><canvas width="87" height="25" style="width: 87px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>User </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Agent " style="width: 84px; height: 24px;"><canvas width="105" height="25" style="width: 105px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Agent </cufontext></cufon><cufon class="cufon cufon-canvas" alt="String" style="width: 78px; height: 24px;"><canvas width="90" height="25" style="width: 90px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>String</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/a-orians/" title="Posts by A.J. Orians" rel="author">A.J. Orians</a> </h4>
</div>
<p>Web pages can be responsive to work in browsers of different sizes.&nbsp; This is important with the multitude of different screen sizes across phones, tables, desktop, game consoles, TVs and even wearables.&nbsp; But what would you do if you need to use a web page that doesn't work within the size you desire?</p>
<p>In my case I had put the web page in the production wizard of Camtasia Studio and it looked similar to the following:</p>
<p><a href="http://devblog.techsmith.com/wp-content/uploads/2015/07/CutOffLogin.png"><img class="aligncenter size-medium wp-image-10772" title="CutOffLogin" src="./DevBlog_files/CutOffLogin-279x300.png" alt="" width="279" height="300"></a></p>
<p>Perhaps someday the web page will be updated and would fit nicely but for now I needed to try something.&nbsp; I adjusted the <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of my web browser control.&nbsp; This made it so the web site served up a different page because it now thinks I was on a different browser/device than I was actually using.&nbsp; This did make it so I got a web page that displayed much better:</p>
<p><a href="http://devblog.techsmith.com/wp-content/uploads/2015/07/MobileLogin.png"><img class="aligncenter size-medium wp-image-10773" title="MobileLogin" src="./DevBlog_files/MobileLogin-279x300.png" alt="" width="279" height="300"></a></p>
<p>There are several downsides to doing this.&nbsp; It can hurt the tracking on the website since it's tracking may report more mobile devices than actually are connecting.&nbsp; It is also quite possible that the website might update and mention things very specific to mobile devices or something that is confusing to the users.</p>
<p>Nonetheless I'd like to share how I adjusted the user agent string.&nbsp; In the window (property page) that holds the browser helper object you can just override <a href="https://msdn.microsoft.com/en-us/library/y1y1c262.aspx?f=255&MSPPError=-2147217396">OnAmbientProperty</a> like so:</p>
<div><div id="highlighter_779718" class="syntaxhighlighter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp color1 bold">BOOL</code> <code class="cpp plain">CMyLoginDlg::OnAmbientProperty(COleControlSite* pSite, DISPID dispid,</code></div><div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">VARIANT* pvar)</code></div><div class="line number3 index2 alt2"><code class="cpp plain">{</code></div><div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(dispid == DISPID_AMBIENT_USERAGENT)</code></div><div class="line number5 index4 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number6 index5 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">CString strUserAgent(NEVER_TRANSLATEA(</code><code class="cpp string">"Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Mobile/11A465"</code><code class="cpp plain">));</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">pvar-&gt;vt = VT_BSTR;</code></div><div class="line number9 index8 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">pvar-&gt;bstrVal = strUserAgent.AllocSysString();</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">TRUE;</code></div><div class="line number12 index11 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">__super::OnAmbientProperty(pSite, dispid, pvar);</code></div><div class="line number15 index14 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>In the end I decided not to use this and went with a different approach.&nbsp; Have you ever did anything with a user agent string?&nbsp; Had you ever supplied an interesting user agent string in a web request?&nbsp; Let me know what you think!</p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10771_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10771XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10771_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10771_a" class="gdt-size-20 gdthumbtext">Rating: <strong>+2</strong> (from 2 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Tagged as: <a href="http://devblog.techsmith.com/tag/c/" rel="tag">c++</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/14/adjust-browser-helper-objects-user-agent-string/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10766 post type-post status-publish format-standard hentry category-uncategorized" id="post-10766">
<div class="comm_date"><span class="data"><span class="j">13</span>Jul/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/13/debug-visual-studio-web-projects-using-chrome-incognito-or-ie-inprivate-mode/#comments">0</a></span></div>
<h2><a title="Debug Visual Studio Web Projects using Chrome Incognito or IE InPrivate mode" href="http://devblog.techsmith.com/2015/07/13/debug-visual-studio-web-projects-using-chrome-incognito-or-ie-inprivate-mode/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Debug " style="width: 91px; height: 24px;"><canvas width="112" height="25" style="width: 112px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Debug </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Visual " style="width: 84px; height: 24px;"><canvas width="105" height="25" style="width: 105px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Visual </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Studio " style="width: 90px; height: 24px;"><canvas width="111" height="25" style="width: 111px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Studio </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Web " style="width: 64px; height: 24px;"><canvas width="85" height="25" style="width: 85px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Web </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Projects " style="width: 111px; height: 24px;"><canvas width="132" height="25" style="width: 132px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Projects </cufontext></cufon><cufon class="cufon cufon-canvas" alt="using " style="width: 77px; height: 24px;"><canvas width="98" height="25" style="width: 98px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>using </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Chrome " style="width: 107px; height: 24px;"><canvas width="128" height="25" style="width: 128px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Chrome </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Incognito " style="width: 126px; height: 24px;"><canvas width="148" height="25" style="width: 148px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Incognito </cufontext></cufon><cufon class="cufon cufon-canvas" alt="or " style="width: 34px; height: 24px;"><canvas width="55" height="25" style="width: 55px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>or </cufontext></cufon><cufon class="cufon cufon-canvas" alt="IE " style="width: 31px; height: 24px;"><canvas width="52" height="25" style="width: 52px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>IE </cufontext></cufon><cufon class="cufon cufon-canvas" alt="InPrivate " style="width: 122px; height: 24px;"><canvas width="143" height="25" style="width: 143px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>InPrivate </cufontext></cufon><cufon class="cufon cufon-canvas" alt="mode" style="width: 72px; height: 24px;"><canvas width="85" height="25" style="width: 85px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>mode</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/r-porter/" title="Posts by Ross Porter" rel="author">Ross Porter</a> </h4>
</div>
<p><iframe src="./DevBlog_files/2BFU88tBzqE.html" frameborder="0" width="420" height="315"></iframe></p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10766_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10766XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10766_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10766_a" class="gdt-size-20 gdthumbtext">Rating: <strong>0</strong> (from 0 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Filed under: <a href="http://devblog.techsmith.com/category/uncategorized/" title="View all posts in development" rel="category tag">development</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/13/debug-visual-studio-web-projects-using-chrome-incognito-or-ie-inprivate-mode/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10751 post type-post status-publish format-standard hentry category-uncategorized" id="post-10751">
<div class="comm_date"><span class="data"><span class="j">13</span>Jul/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/13/sharepoint-development-experiences-blog/#comments">0</a></span></div>
<h2><a title="SharePoint Development Experiences Blog" href="http://devblog.techsmith.com/2015/07/13/sharepoint-development-experiences-blog/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="SharePoint " style="width: 148px; height: 24px;"><canvas width="169" height="25" style="width: 169px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>SharePoint </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Development " style="width: 177px; height: 24px;"><canvas width="198" height="25" style="width: 198px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Development </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Experiences " style="width: 161px; height: 24px;"><canvas width="182" height="25" style="width: 182px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Experiences </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Blog" style="width: 57px; height: 24px;"><canvas width="69" height="25" style="width: 69px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Blog</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/r-porter/" title="Posts by Ross Porter" rel="author">Ross Porter</a> </h4>
</div>
<p>As we continue to work with SharePoint Online and Office 365 to develop content, we've started creating a record of lessons learned and gotcha's. You can find the blog posts about our findings and experiences here: &nbsp;<a title="https://offtechsmith.sharepoint.com/sites/development/SPDevResearch" href="https://offtechsmith.sharepoint.com/sites/development/SPDevResearch" target="_blank">https://offtechsmith.sharepoint.com/sites/development/SPDevResearch&nbsp;</a></p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10751_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10751XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10751_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10751_a" class="gdt-size-20 gdthumbtext">Rating: <strong>0</strong> (from 0 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Filed under: <a href="http://devblog.techsmith.com/category/uncategorized/" title="View all posts in development" rel="category tag">development</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/07/13/sharepoint-development-experiences-blog/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10745 post type-post status-publish format-standard hentry category-how-to" id="post-10745">
<div class="comm_date"><span class="data"><span class="j">19</span>Jun/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/06/19/google-chrome-tips-tricks/#comments">0</a></span></div>
<h2><a title="Google Chrome Tips &amp; Tricks" href="http://devblog.techsmith.com/2015/06/19/google-chrome-tips-tricks/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Google " style="width: 97px; height: 24px;"><canvas width="118" height="25" style="width: 118px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Google </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Chrome " style="width: 107px; height: 24px;"><canvas width="128" height="25" style="width: 128px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Chrome </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Tips " style="width: 60px; height: 24px;"><canvas width="81" height="25" style="width: 81px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Tips </cufontext></cufon><cufon class="cufon cufon-canvas" alt="&amp; " style="width: 28px; height: 24px;"><canvas width="49" height="25" style="width: 49px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>&amp; </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Tricks" style="width: 73px; height: 24px;"><canvas width="88" height="25" style="width: 88px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Tricks</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/b-thomas/" title="Posts by b.thomas" rel="author">b.thomas</a> </h4>
</div>
<p>Below is a video/demo of a quick run through of how I use google chrome and some things I find really handy about it. I go over a few specific things that come in handy with working remote like using a combination of google voice, google hangouts, and some extensions to help manage communication with fellow employees. I hope you find it helpful.</p>
<p>Direct link&nbsp;<a href="http://www.screencast.com/t/ByATP5SOJ">http://www.screencast.com/t/ByATP5SOJ</a></p>
<p><!-- copy and paste. Modify height and width if desired. --><iframe style="overflow: hidden;" name="tsc_player" src="./DevBlog_files/embed.html" frameborder="0" scrolling="no" width="500" height="378"></iframe></p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10745_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10745XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10745_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10745_a" class="gdt-size-20 gdthumbtext">Rating: <strong>0</strong> (from 0 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Filed under: <a href="http://devblog.techsmith.com/category/how-to/" title="View all posts in How to:" rel="category tag">How to:</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/06/19/google-chrome-tips-tricks/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>


<div class="post-10720 post type-post status-publish format-standard hentry category-uncategorized" id="post-10720">
<div class="comm_date"><span class="data"><span class="j">17</span>Jun/15</span><span class="nr_comm"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/06/17/random-comand-line-workflow-optimizations/#comments">0</a></span></div>
<h2><a title="Random Comand-line Workflow Optimizations" href="http://devblog.techsmith.com/2015/06/17/random-comand-line-workflow-optimizations/" rel="bookmark"><cufon class="cufon cufon-canvas" alt="Random " style="width: 113px; height: 24px;"><canvas width="134" height="25" style="width: 134px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Random </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Comand-line " style="width: 167px; height: 24px;"><canvas width="188" height="25" style="width: 188px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Comand-line </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Workflow " style="width: 128px; height: 24px;"><canvas width="149" height="25" style="width: 149px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Workflow </cufontext></cufon><cufon class="cufon cufon-canvas" alt="Optimizations" style="width: 176px; height: 24px;"><canvas width="192" height="25" style="width: 192px; height: 25px; top: -1px; left: -1px;"></canvas><cufontext>Optimizations</cufontext></cufon></a></h2>
<div class="about_author">
<h4>Posted by <a href="http://devblog.techsmith.com/author/b-thomas/" title="Posts by b.thomas" rel="author">b.thomas</a> </h4>
</div>
<p>Here is a random list of things I do or have done to improve productivity when working via the command-line.</p>
<p><strong>Bash Completion<br>
</strong>Command line is the best, but it can also be tedious and provide a tough learning curve for new tools. Having bash completion for those tools can help a ton. For those that don't know what bash completion is, it's the thing where when you hit tab on the command line and it lists out the available options or auto completes the option for you if there is only one choice. Where I have found this particularly useful is installing bash completion for git! It does not come installed by default on most machines or with an install of git. For Cygwin, you can install it be selecting the git-completion package under Devel. For the mac side, you can either use "brew" to install it for you, or find online the .bash file and install it somewhere handy. I put it under a local bin folder. And then you update your .profile to include something like this...</p>
<div><div id="highlighter_400555" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash keyword">if</code> <code class="bash plain">[ -f ~</code><code class="bash plain">/bin/git-completion</code><code class="bash plain">.</code><code class="bash functions">bash</code> <code class="bash plain">]; </code><code class="bash keyword">then</code></div><div class="line number2 index1 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">. ~</code><code class="bash plain">/bin/git-completion</code><code class="bash plain">.</code><code class="bash functions">bash</code></div><div class="line number3 index2 alt2"><code class="bash keyword">fi</code></div></div></td></tr></tbody></table></div></div>
<p>I found a handy bash file here <a href="https://github.com/git/git/blob/master/contrib/completion/git-completion.bash">https://github.com/git/git/blob/master/contrib/completion/git-completion.bash</a></p>
<p><strong>Aliases</strong><br>
If you aren't using aliases, then you are probably wasting a lot of typing tedious typing time. Here are some of my favorites</p>
<p><em>Cygwin Aliases</em><br>
Add these to your .profile or .bashrc file</p>
<div><div id="highlighter_8651" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash comments">#shortcut to open applications in non-command line editors</code></div><div class="line number2 index1 alt1"><code class="bash functions">alias</code> <code class="bash plain">np=</code><code class="bash string">'/cygdrive/c/Program\ Files\ \(x86\)/Notepad++/notepad++.exe'</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="bash comments"># cd shortcut to your base git directory</code></div><div class="line number5 index4 alt2"><code class="bash functions">alias</code> <code class="bash plain">cdgit=</code><code class="bash string">'cd /cygdrive/d/proj/git'</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="bash comments"># cd to any projects you work in a lot.</code></div><div class="line number8 index7 alt1"><code class="bash functions">alias</code> <code class="bash plain">cdcsml=</code><code class="bash string">'cd /cygdrive/d/proj/git/csml'</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="bash comments"># open up the file explorer to your current working directory</code></div><div class="line number11 index10 alt2"><code class="bash comments"># similar to "open ." in the mac terminal</code></div><div class="line number12 index11 alt1"><code class="bash functions">alias</code> <code class="bash plain">opendir=</code><code class="bash string">'cygstart.exe --explore "${1:-.}"'</code></div></div></td></tr></tbody></table></div></div>
<p><em>Git Alias </em><br>
Add these to ~/.gitconfig</p>
<div><div id="highlighter_825851" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">[</code><code class="bash functions">alias</code><code class="bash plain">]</code></div><div class="line number2 index1 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">lga = log --oneline --graph --decorate --color --all</code></div><div class="line number3 index2 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">lg = log --oneline --graph --decorate --color</code></div><div class="line number4 index3 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">st = status</code></div><div class="line number5 index4 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">fa = fetch --all</code></div><div class="line number6 index5 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">co = checkout</code></div><div class="line number7 index6 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">diffs = </code><code class="bash functions">diff</code> <code class="bash plain">--staged</code></div></div></td></tr></tbody></table></div></div>
<p><strong>Cygwin Admin Hack</strong><br>
Cygwin doesn't have a sudo option, which is annoying since I use it all the time on the mac side. So instead I use a work around that will open up another cygwin instance as administrator and run whatever command I give it. To do this, simply create a "sudo" txt file in one of the many exported bin folders, make sure it has executable rights (so you might need to chmod it), and set it up do this:</p>
<div><div id="highlighter_828724" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash preprocessor bold">#!/usr/bin/bash</code></div><div class="line number2 index1 alt1"><code class="bash plain">cygstart --action=runas </code><code class="bash string">"$@"</code></div></div></td></tr></tbody></table></div></div>
<p><strong>Useful Git Commands</strong><br>
I am also making use of my aliases</p>
<div><div id="highlighter_50469" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash comments"># Create and checkout a new branch</code></div><div class="line number2 index1 alt1"><code class="bash plain">git&nbsp;co -u nameOfBranch</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="bash comments"># Wipe out local changes</code></div><div class="line number5 index4 alt2"><code class="bash plain">git reset HEAD --hard</code></div><div class="line number6 index5 alt1"><code class="bash plain">git submodule foreach --recursive git reset --hard</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="bash comments"># Cleanup your copy of origin and remove branches you've checked out that have since been deleted</code></div><div class="line number9 index8 alt2"><code class="bash plain">git remove prune origin</code></div><div class="line number10 index9 alt1"><code class="bash plain">git branch -d nameOfBranchToDelete</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="bash comments"># When you run into pains with submodules because the location changed</code></div><div class="line number13 index12 alt2"><code class="bash plain">git submodule </code><code class="bash functions">sync</code></div><div class="line number14 index13 alt1"><code class="bash plain">git submodule update --init --recursive</code></div></div></td></tr></tbody></table></div></div>
<p>What kind of command line optimizations do other people use?</p>
<div style="display: none">UN:F [1.9.13_1145]</div><div class="thumblock "><div id="gdsr_thumb_10720_a_up" class="gdt-size-20 gdthumb gdup"><a id="gdsrX10720XupXaX45X20XY" class="gdt-starrating" rel="nofollow"></a></div><div id="gdsr_thumb_10720_a_loader_up" style="display: none; width: 20px " class="ratingloader loadup"><div class="loader flower thumb" style="width: 20px; height: 20px;"></div></div><div class="raterclear"></div><div class="rtexthumb "><div id="gdsr_thumb_text_10720_a" class="gdt-size-20 gdthumbtext">Rating: <strong>0</strong> (from 0 votes)</div></div></div>
<div class="cat_tags clear">
<span class="category">Filed under: <a href="http://devblog.techsmith.com/category/uncategorized/" title="View all posts in development" rel="category tag">development</a></span>
<span class="continue"><a class="nr_comm_spot" href="http://devblog.techsmith.com/2015/06/17/random-comand-line-workflow-optimizations/#comments">No Comments</a></span><div class="clear"></div>
</div>
<div class="cat_tags_close"></div>
</div>




<div class="newer_older">
<span class="newer">&nbsp;</span>
<span class="older">&nbsp;<a href="http://devblog.techsmith.com/page/2/">Older Entries »</a></span>
</div>

</div>
<div class="content-sidebar">
				<h3>Recent Posts</h3>		<ul style="z-index: 40;">
				<li><a href="http://devblog.techsmith.com/2015/08/26/debugging-a-bus-error-in-snagit-mac-using-a-disassembler-watching-registers/" title="Debugging a Bus Error in Snagit Mac (Using a disassembler &amp; watching registers)">Debugging a Bus Error in Snagit Mac (Using a disassembler &amp; watching registers)</a></li>
				<li><a href="http://devblog.techsmith.com/2015/08/20/composite-collections-in-wpf-combining-different-types-into-one-view/" title="Composite Collections in WPF – Combining different types into one view.">Composite Collections in WPF – Combining different types into one view.</a></li>
				<li><a href="http://devblog.techsmith.com/2015/07/28/constexpr-strings/" title="Constexpr Strings">Constexpr Strings</a></li>
				<li><a href="http://devblog.techsmith.com/2015/07/27/exception-filters/" title="Exception Filters">Exception Filters</a></li>
				<li><a href="http://devblog.techsmith.com/2015/07/20/designing-software-for-customers-as-opposed-to-individual-users/" title="Designing software for customers (as opposed to individual users)">Designing software for customers (as opposed to individual users)</a></li>
				</ul>
		<h3>Categories</h3><select name="cat" id="cat" class="postform">
	<option value="-1">Select Category</option>
	<option class="level-0" value="381">Android OS&nbsp;&nbsp;(34)</option>
	<option class="level-0" value="383">Cloud&nbsp;&nbsp;(33)</option>
	<option class="level-0" value="47">Database&nbsp;&nbsp;(27)</option>
	<option class="level-0" value="127">Dev Conferences&nbsp;&nbsp;(83)</option>
	<option class="level-0" value="31">Developer Competency&nbsp;&nbsp;(321)</option>
	<option class="level-1" value="39">&nbsp;&nbsp;&nbsp;Build Automation&nbsp;&nbsp;(27)</option>
	<option class="level-1" value="41">&nbsp;&nbsp;&nbsp;Debugging&nbsp;&nbsp;(41)</option>
	<option class="level-1" value="40">&nbsp;&nbsp;&nbsp;Libraries and Frameworks&nbsp;&nbsp;(39)</option>
	<option class="level-1" value="42">&nbsp;&nbsp;&nbsp;Research and Innovation&nbsp;&nbsp;(38)</option>
	<option class="level-1" value="33">&nbsp;&nbsp;&nbsp;Software Design&nbsp;&nbsp;(42)</option>
	<option class="level-1" value="108">&nbsp;&nbsp;&nbsp;Software Engineering&nbsp;&nbsp;(56)</option>
	<option class="level-1" value="32">&nbsp;&nbsp;&nbsp;Software Implementation&nbsp;&nbsp;(34)</option>
	<option class="level-1" value="34">&nbsp;&nbsp;&nbsp;Software Quality&nbsp;&nbsp;(39)</option>
	<option class="level-1" value="37">&nbsp;&nbsp;&nbsp;Use of IDEs&nbsp;&nbsp;(72)</option>
	<option class="level-1" value="43">&nbsp;&nbsp;&nbsp;UX Competency&nbsp;&nbsp;(26)</option>
	<option class="level-0" value="1">development&nbsp;&nbsp;(346)</option>
	<option class="level-0" value="54">How to:&nbsp;&nbsp;(105)</option>
	<option class="level-0" value="66">I need feedback&nbsp;&nbsp;(21)</option>
	<option class="level-0" value="55">I need help!&nbsp;&nbsp;(31)</option>
	<option class="level-0" value="382">IOS&nbsp;&nbsp;(22)</option>
	<option class="level-0" value="126">Keeping up to date&nbsp;&nbsp;(28)</option>
	<option class="level-0" value="5">Languages&nbsp;&nbsp;(453)</option>
	<option class="level-1" value="17">&nbsp;&nbsp;&nbsp;Ajax&nbsp;&nbsp;(5)</option>
	<option class="level-1" value="3">&nbsp;&nbsp;&nbsp;C#&nbsp;&nbsp;(106)</option>
	<option class="level-1" value="65">&nbsp;&nbsp;&nbsp;C++&nbsp;&nbsp;(256)</option>
	<option class="level-1" value="4">&nbsp;&nbsp;&nbsp;C++/CLI&nbsp;&nbsp;(8)</option>
	<option class="level-1" value="14">&nbsp;&nbsp;&nbsp;COM&nbsp;&nbsp;(3)</option>
	<option class="level-1" value="12">&nbsp;&nbsp;&nbsp;Flash&nbsp;&nbsp;(6)</option>
	<option class="level-1" value="75">&nbsp;&nbsp;&nbsp;Html&nbsp;&nbsp;(27)</option>
	<option class="level-1" value="11">&nbsp;&nbsp;&nbsp;Java&nbsp;&nbsp;(22)</option>
	<option class="level-1" value="10">&nbsp;&nbsp;&nbsp;MFC&nbsp;&nbsp;(8)</option>
	<option class="level-1" value="6">&nbsp;&nbsp;&nbsp;Objective C&nbsp;&nbsp;(48)</option>
	<option class="level-1" value="265">&nbsp;&nbsp;&nbsp;T-SQL&nbsp;&nbsp;(17)</option>
	<option class="level-1" value="16">&nbsp;&nbsp;&nbsp;Xaml&nbsp;&nbsp;(10)</option>
	<option class="level-0" value="48">Localization&nbsp;&nbsp;(7)</option>
	<option class="level-0" value="45">Mac OS&nbsp;&nbsp;(81)</option>
	<option class="level-0" value="50">Mobile&nbsp;&nbsp;(60)</option>
	<option class="level-0" value="18">Products&nbsp;&nbsp;(120)</option>
	<option class="level-1" value="24">&nbsp;&nbsp;&nbsp;Camtasia Mac&nbsp;&nbsp;(36)</option>
	<option class="level-1" value="20">&nbsp;&nbsp;&nbsp;Camtasia Windows&nbsp;&nbsp;(27)</option>
	<option class="level-1" value="395">&nbsp;&nbsp;&nbsp;Coach’s Eye&nbsp;&nbsp;(13)</option>
	<option class="level-1" value="23">&nbsp;&nbsp;&nbsp;Jing&nbsp;&nbsp;(18)</option>
	<option class="level-1" value="21">&nbsp;&nbsp;&nbsp;Morae&nbsp;&nbsp;(1)</option>
	<option class="level-1" value="22">&nbsp;&nbsp;&nbsp;Relay&nbsp;&nbsp;(20)</option>
	<option class="level-1" value="109">&nbsp;&nbsp;&nbsp;Screencast&nbsp;&nbsp;(8)</option>
	<option class="level-1" value="19">&nbsp;&nbsp;&nbsp;Snagit&nbsp;&nbsp;(9)</option>
	<option class="level-1" value="467">&nbsp;&nbsp;&nbsp;TSC Class&nbsp;&nbsp;(1)</option>
	<option class="level-1" value="152">&nbsp;&nbsp;&nbsp;WebDev&nbsp;&nbsp;(7)</option>
	<option class="level-0" value="49">Security&nbsp;&nbsp;(21)</option>
	<option class="level-0" value="46">Web&nbsp;&nbsp;(62)</option>
	<option class="level-0" value="44">Windows OS&nbsp;&nbsp;(64)</option>
	<option class="level-1" value="52">&nbsp;&nbsp;&nbsp;Vista&nbsp;&nbsp;(7)</option>
	<option class="level-1" value="51">&nbsp;&nbsp;&nbsp;Windows 7&nbsp;&nbsp;(9)</option>
	<option class="level-1" value="391">&nbsp;&nbsp;&nbsp;Windows 8&nbsp;&nbsp;(8)</option>
	<option class="level-1" value="53">&nbsp;&nbsp;&nbsp;XP&nbsp;&nbsp;(3)</option>
</select>

<script type="text/javascript">
/* <![CDATA[ */
	var dropdown = document.getElementById("cat");
	function onCatChange() {
		if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {
			location.href = "http://devblog.techsmith.com/?cat="+dropdown.options[dropdown.selectedIndex].value;
		}
	}
	dropdown.onchange = onCatChange;
/* ]]> */
</script>

<h3>Tags</h3><div class="tagcloud"><a href="http://devblog.techsmith.com/tag/net/" class="tag-link-228" title="16 topics" style="font-size: 12.5802469136pt;">.net</a>
<a href="http://devblog.techsmith.com/tag/android/" class="tag-link-356" title="25 topics" style="font-size: 14.1358024691pt;">android</a>
<a href="http://devblog.techsmith.com/tag/api/" class="tag-link-120" title="4 topics" style="font-size: 8pt;">API</a>
<a href="http://devblog.techsmith.com/tag/asp-net/" class="tag-link-189" title="5 topics" style="font-size: 8.69135802469pt;">ASP.NET</a>
<a href="http://devblog.techsmith.com/tag/build/" class="tag-link-145" title="6 topics" style="font-size: 9.2962962963pt;">build</a>
<a href="http://devblog.techsmith.com/tag/csharp/" class="tag-link-3" title="22 topics" style="font-size: 13.7037037037pt;">C#</a>
<a href="http://devblog.techsmith.com/tag/c/" class="tag-link-64" title="208 topics" style="font-size: 22pt;">c++</a>
<a href="http://devblog.techsmith.com/tag/cloud/" class="tag-link-340" title="13 topics" style="font-size: 11.8888888889pt;">Cloud</a>
<a href="http://devblog.techsmith.com/tag/cloud-corner/" class="tag-link-431" title="6 topics" style="font-size: 9.2962962963pt;">cloud corner</a>
<a href="http://devblog.techsmith.com/tag/cocoa/" class="tag-link-235" title="9 topics" style="font-size: 10.5925925926pt;">Cocoa</a>
<a href="http://devblog.techsmith.com/tag/conference/" class="tag-link-86" title="10 topics" style="font-size: 10.9382716049pt;">Conference</a>
<a href="http://devblog.techsmith.com/tag/database/" class="tag-link-47" title="7 topics" style="font-size: 9.72839506173pt;">Database</a>
<a href="http://devblog.techsmith.com/tag/debugging/" class="tag-link-41" title="7 topics" style="font-size: 9.72839506173pt;">Debugging</a>
<a href="http://devblog.techsmith.com/tag/design/" class="tag-link-144" title="4 topics" style="font-size: 8pt;">design</a>
<a href="http://devblog.techsmith.com/tag/devblog/" class="tag-link-60" title="8 topics" style="font-size: 10.1604938272pt;">devblog</a>
<a href="http://devblog.techsmith.com/tag/devcon/" class="tag-link-171" title="19 topics" style="font-size: 13.1851851852pt;">DevCon</a>
<a href="http://devblog.techsmith.com/tag/development/" class="tag-link-132" title="20 topics" style="font-size: 13.3580246914pt;">development</a>
<a href="http://devblog.techsmith.com/tag/facebook/" class="tag-link-119" title="4 topics" style="font-size: 8pt;">Facebook</a>
<a href="http://devblog.techsmith.com/tag/git/" class="tag-link-518" title="5 topics" style="font-size: 8.69135802469pt;">git</a>
<a href="http://devblog.techsmith.com/tag/help/" class="tag-link-105" title="4 topics" style="font-size: 8pt;">Help</a>
<a href="http://devblog.techsmith.com/tag/il/" class="tag-link-230" title="4 topics" style="font-size: 8pt;">il</a>
<a href="http://devblog.techsmith.com/tag/java/" class="tag-link-11" title="6 topics" style="font-size: 9.2962962963pt;">Java</a>
<a href="http://devblog.techsmith.com/tag/mac/" class="tag-link-236" title="12 topics" style="font-size: 11.5432098765pt;">Mac</a>
<a href="http://devblog.techsmith.com/tag/microsoft/" class="tag-link-73" title="13 topics" style="font-size: 11.8888888889pt;">Microsoft</a>
<a href="http://devblog.techsmith.com/tag/objective-c/" class="tag-link-6" title="10 topics" style="font-size: 10.9382716049pt;">Objective C</a>
<a href="http://devblog.techsmith.com/tag/recorder/" class="tag-link-121" title="4 topics" style="font-size: 8pt;">recorder</a>
<a href="http://devblog.techsmith.com/tag/research/" class="tag-link-172" title="9 topics" style="font-size: 10.5925925926pt;">research</a>
<a href="http://devblog.techsmith.com/tag/screen-capture/" class="tag-link-67" title="5 topics" style="font-size: 8.69135802469pt;">screen capture</a>
<a href="http://devblog.techsmith.com/tag/silverlight/" class="tag-link-61" title="5 topics" style="font-size: 8.69135802469pt;">silverlight</a>
<a href="http://devblog.techsmith.com/tag/social-media/" class="tag-link-142" title="5 topics" style="font-size: 8.69135802469pt;">social media</a>
<a href="http://devblog.techsmith.com/tag/t-sql/" class="tag-link-265" title="9 topics" style="font-size: 10.5925925926pt;">T-SQL</a>
<a href="http://devblog.techsmith.com/tag/tdd/" class="tag-link-185" title="6 topics" style="font-size: 9.2962962963pt;">TDD</a>
<a href="http://devblog.techsmith.com/tag/tfs/" class="tag-link-147" title="13 topics" style="font-size: 11.8888888889pt;">TFS</a>
<a href="http://devblog.techsmith.com/tag/tips/" class="tag-link-114" title="4 topics" style="font-size: 8pt;">tips</a>
<a href="http://devblog.techsmith.com/tag/ui/" class="tag-link-374" title="6 topics" style="font-size: 9.2962962963pt;">UI</a>
<a href="http://devblog.techsmith.com/tag/unit-testing/" class="tag-link-165" title="8 topics" style="font-size: 10.1604938272pt;">unit-testing</a>
<a href="http://devblog.techsmith.com/tag/user-experience/" class="tag-link-143" title="11 topics" style="font-size: 11.2839506173pt;">user experience</a>
<a href="http://devblog.techsmith.com/tag/ux/" class="tag-link-170" title="8 topics" style="font-size: 10.1604938272pt;">UX</a>
<a href="http://devblog.techsmith.com/tag/video/" class="tag-link-164" title="4 topics" style="font-size: 8pt;">video</a>
<a href="http://devblog.techsmith.com/tag/visual-studio/" class="tag-link-128" title="22 topics" style="font-size: 13.7037037037pt;">visual studio</a>
<a href="http://devblog.techsmith.com/tag/visual-studio-2008/" class="tag-link-56" title="12 topics" style="font-size: 11.5432098765pt;">visual studio 2008</a>
<a href="http://devblog.techsmith.com/tag/vs2010/" class="tag-link-280" title="4 topics" style="font-size: 8pt;">vs2010</a>
<a href="http://devblog.techsmith.com/tag/windbg/" class="tag-link-148" title="5 topics" style="font-size: 8.69135802469pt;">WinDBG</a>
<a href="http://devblog.techsmith.com/tag/windows/" class="tag-link-68" title="16 topics" style="font-size: 12.5802469136pt;">windows</a>
<a href="http://devblog.techsmith.com/tag/wpf/" class="tag-link-7" title="7 topics" style="font-size: 9.72839506173pt;">WPF</a></div>
<h3>Meta</h3><ul style="z-index: 30;">        <p>Welcome, <em>Matthew Ao</em></p>      <li><a href="http://devblog.techsmith.com/wp-login.php?action=logout&redirect_to=%2F&_wpnonce=1d05b11074">Log out</a></li>        <li><a href="http://devblog.techsmith.com/wp-admin/index.php">Dashboard</a></li>      <li><a href="http://devblog.techsmith.com/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>      <li><a href="http://devblog.techsmith.com/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li></ul><h3>Blogroll</h3>
	<ul class="xoxo blogroll" style="z-index: 20;">
<li><a href="http://buzz.techsmith.com/">Buzz</a></li>
<li><a href="http://team.techsmith.com/">Team Techsmith</a></li>
<li><a href="http://blogs.techsmith.com/author/devcorner/">TSC Dev Corner</a></li>
<li><a href="http://reddit.techsmith.com/" title="http://reddit.techsmith.com/">TSC Reddit</a></li>

	</ul>

					<h3>Authors</h3>			<ul style="z-index: 10;">
				<li><img alt="" src="./DevBlog_files/14dcbe8f74336f674d2425b59b2a29ec" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/a-orians/" title="Posts by A.J. Orians">A.J. Orians</a> (182)</li>
<li><img alt="" src="./DevBlog_files/1ab275cd11c32c39039998a7274cb52c" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/s-wagner/" title="Posts by Stephen Wagner">Stephen Wagner</a> (57)</li>
<li><img alt="" src="./DevBlog_files/35406d8c9a153da3ea20626479436f83" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/m-schall/" title="Posts by Mark Schall">Mark Schall</a> (49)</li>
<li><img alt="" src="./DevBlog_files/b5a1ae4e77117d8574fcfe36c75f78e3" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/a-marks/" title="Posts by a.marks">a.marks</a> (37)</li>
<li><img alt="" src="./DevBlog_files/d69afeff6c9e167a36c3dfe009c84fac" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/d-cornwell/" title="Posts by Dennis">Dennis</a> (36)</li>
<li><img alt="" src="./DevBlog_files/a954d1b44c14d92badf59117ee6e9a7d" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/d-girdwood/" title="Posts by David Girdwood">David Girdwood</a> (33)</li>
<li><img alt="" src="./DevBlog_files/b1454ee248207fb94ab3b5917f1af75c" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/r-brown/" title="Posts by Randall">Randall</a> (33)</li>
<li><img alt="" src="./DevBlog_files/a88602afa3fc36067887ee929aa3f4e5" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/j-wein/" title="Posts by Jared Wein">Jared Wein</a> (30)</li>
<li><img alt="" src="./DevBlog_files/762526a5a0cef615a6401a7a0888c5a9" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/d-fiedler/" title="Posts by d.fiedler">d.fiedler</a> (26)</li>
<li><img alt="" src="./DevBlog_files/39f2dda32785cc695ae5eca78703d8e6" class="avatar avatar-32 photo" height="32" width="32"><a href="http://devblog.techsmith.com/author/g-hoeppner/" title="Posts by Glenn H">Glenn H</a> (24)</li>
			</ul>
						

<h3>Commentators of the month</h3>
<ul style="z-index: 0;">
<li>Be the first to comment.</li>
</ul>

</div><div class="clear"></div>
</div>
<div id="footer">
<span class="text">
Copyright © 2015 <a href="./DevBlog_files/DevBlog.html">DevBlog</a> · Powered by <a href="http://www.wordpress.org/" title="WordPress" target="_blank">WordPress</a> <br><a href="http://www.lightword-design.com/" target="_blank" title="Lightword Theme">Lightword Theme</a> by Andrei Luca
<a title="Go to top" class="top" href="http://devblog.techsmith.com/#top">Go to top ↑</a>
</span>
</div>
<script type="text/javascript" src="./DevBlog_files/menu.js"></script>
</div>

<script type="text/javascript">/* <![CDATA[ */ Cufon.now(); /* ]]> */ </script>
<script type="text/javascript" src="./DevBlog_files/shCore.js"></script>
<script type="text/javascript" src="./DevBlog_files/shBrushPlain.js"></script>
<script type="text/javascript" src="./DevBlog_files/shBrushXml.js"></script>
<script type="text/javascript" src="./DevBlog_files/shBrushCpp.js"></script>
<script type="text/javascript" src="./DevBlog_files/shBrushCSharp.js"></script>
<script type="text/javascript" src="./DevBlog_files/shBrushBash.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://devblog.techsmith.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://devblog.techsmith.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript" src="./DevBlog_files/admin-bar.js"></script>
		<div id="wpadminbar" class="" role="navigation">
			<div class="quicklinks">
				<ul id="wp-admin-bar-root-default" class="ab-top-menu" style="z-index: -10;">
		<li id="wp-admin-bar-wp-logo" class="menupop"><a class="ab-item" tabindex="10" aria-haspopup="true" href="http://devblog.techsmith.com/wp-admin/about.php" title="About WordPress"><span class="ab-icon"></span></a><div class="ab-sub-wrapper"><ul id="wp-admin-bar-wp-logo-default" class="ab-submenu" style="z-index: -20;">
		<li id="wp-admin-bar-about" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-admin/about.php">About WordPress</a>		</li></ul><ul id="wp-admin-bar-wp-logo-external" class="ab-sub-secondary ab-submenu" style="z-index: -30;">
		<li id="wp-admin-bar-wporg" class=""><a class="ab-item" tabindex="10" href="http://wordpress.org/">WordPress.org</a>		</li>
		<li id="wp-admin-bar-documentation" class=""><a class="ab-item" tabindex="10" href="http://codex.wordpress.org/">Documentation</a>		</li>
		<li id="wp-admin-bar-support-forums" class=""><a class="ab-item" tabindex="10" href="http://wordpress.org/support/">Support Forums</a>		</li>
		<li id="wp-admin-bar-feedback" class=""><a class="ab-item" tabindex="10" href="http://wordpress.org/support/forum/requests-and-feedback">Feedback</a>		</li></ul></div>		</li>
		<li id="wp-admin-bar-site-name" class="menupop"><a class="ab-item" tabindex="10" aria-haspopup="true" href="http://devblog.techsmith.com/wp-admin/">DevBlog</a><div class="ab-sub-wrapper"><ul id="wp-admin-bar-site-name-default" class="ab-submenu" style="z-index: -40;">
		<li id="wp-admin-bar-dashboard" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-admin/">Dashboard</a>		</li></ul></div>		</li>
		<li id="wp-admin-bar-comments" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-admin/edit-comments.php" title="0 comments awaiting moderation"><span class="ab-icon"></span><span id="ab-awaiting-mod" class="ab-label awaiting-mod pending-count count-0">0</span></a>		</li>
		<li id="wp-admin-bar-new-content" class="menupop"><a class="ab-item" tabindex="10" aria-haspopup="true" href="http://devblog.techsmith.com/wp-admin/post-new.php" title="Add New"><span class="ab-icon"></span><span class="ab-label">New</span></a><div class="ab-sub-wrapper"><ul id="wp-admin-bar-new-content-default" class="ab-submenu" style="z-index: -50;">
		<li id="wp-admin-bar-new-post" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-admin/post-new.php">Post</a>		</li>
		<li id="wp-admin-bar-new-media" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-admin/media-new.php">Media</a>		</li>
		<li id="wp-admin-bar-new-page" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-admin/post-new.php?post_type=page">Page</a>		</li></ul></div>		</li></ul><ul id="wp-admin-bar-top-secondary" class="ab-top-secondary ab-top-menu" style="z-index: -60;">
		<li id="wp-admin-bar-search" class=" admin-bar-search"><div class="ab-item ab-empty-item" tabindex="-1"><form action="./DevBlog_files/DevBlog.html" method="get" id="adminbarsearch"><input class="adminbar-input" name="s" id="adminbar-search" tabindex="10" type="text" value="" maxlength="150"><input type="submit" class="adminbar-button" value="Search"></form></div>		</li>
		<li id="wp-admin-bar-my-account" class="menupop with-avatar"><a class="ab-item" tabindex="10" aria-haspopup="true" href="http://devblog.techsmith.com/wp-admin/profile.php" title="My Account">Howdy, Matthew Ao<img alt="" src="./DevBlog_files/942d98c761e882ae0bfc85fdf5e8e433" class="avatar avatar-16 photo" height="16" width="16"></a><div class="ab-sub-wrapper"><ul id="wp-admin-bar-user-actions" class=" ab-submenu" style="z-index: -70;">
		<li id="wp-admin-bar-user-info" class=""><a class="ab-item" tabindex="-1" href="http://devblog.techsmith.com/wp-admin/profile.php"><img alt="" src="./DevBlog_files/942d98c761e882ae0bfc85fdf5e8e433(1)" class="avatar avatar-64 photo" height="64" width="64"><span class="display-name">Matthew Ao</span><span class="username">m-ao</span></a>		</li>
		<li id="wp-admin-bar-edit-profile" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-admin/profile.php">Edit My Profile</a>		</li>
		<li id="wp-admin-bar-logout" class=""><a class="ab-item" tabindex="10" href="http://devblog.techsmith.com/wp-login.php?action=logout&_wpnonce=1d05b11074">Log Out</a>		</li></ul></div>		</li></ul>			</div>
		</div>

		
<iframe id="rdbIndicator" width="100%" height="270" border="0" src="./DevBlog_files/indicator.html" style="display: none; border: 0; position: fixed; left: 0; top: 0; z-index: 2147483647"></iframe></body></html>